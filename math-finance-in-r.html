<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 43 Math Finance in R | Spring 2021 EDAV Community Contributions</title>
  <meta name="description" content="This book contains community contributions for STAT GR5702 Spring 2021 at Columbia University" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 43 Math Finance in R | Spring 2021 EDAV Community Contributions" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book contains community contributions for STAT GR5702 Spring 2021 at Columbia University" />
  <meta name="github-repo" content="jtr13/cc21" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 43 Math Finance in R | Spring 2021 EDAV Community Contributions" />
  
  <meta name="twitter:description" content="This book contains community contributions for STAT GR5702 Spring 2021 at Columbia University" />
  



<meta name="date" content="2021-03-29" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="collaborating-on-rstudio-with-github.html"/>
<link rel="next" href="introduction-to-topology-data-analysis.html"/>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/detect-resize-0.5.3/jquery.resize.js"></script>
<link href="libs/jquery-ui-1.11.4/jquery-ui.min.css" rel="stylesheet" />
<script src="libs/jquery-ui-1.11.4/jquery-ui.min.js"></script>
<script src="libs/d3-4.5.0/d3.min.js"></script>
<script src="libs/vega-1.4.3/vega.min.js"></script>
<script src="libs/lodash-2.2.1/lodash.min.js"></script>
<script>var lodash = _.noConflict();</script>
<link href="libs/ggvis-0.4.7/css/ggvis.css" rel="stylesheet" />
<script src="libs/ggvis-0.4.7/js/ggvis.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.3/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script>
<script src="libs/forceNetwork-binding-0.4/forceNetwork.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>
<script src="libs/rglWebGL-binding-0.105.22/rglWebGL.js"></script>
<link href="libs/rglwidgetClass-0.105.22/rgl.css" rel="stylesheet" />
<script src="libs/rglwidgetClass-0.105.22/rglClass.src.js"></script>
<script src="libs/rglwidgetClass-0.105.22/utils.src.js"></script>
<script src="libs/rglwidgetClass-0.105.22/subscenes.src.js"></script>
<script src="libs/rglwidgetClass-0.105.22/shaders.src.js"></script>
<script src="libs/rglwidgetClass-0.105.22/textures.src.js"></script>
<script src="libs/rglwidgetClass-0.105.22/projection.src.js"></script>
<script src="libs/rglwidgetClass-0.105.22/mouse.src.js"></script>
<script src="libs/rglwidgetClass-0.105.22/init.src.js"></script>
<script src="libs/rglwidgetClass-0.105.22/pieces.src.js"></script>
<script src="libs/rglwidgetClass-0.105.22/draw.src.js"></script>
<script src="libs/rglwidgetClass-0.105.22/controls.src.js"></script>
<script src="libs/rglwidgetClass-0.105.22/selection.src.js"></script>
<script src="libs/rglwidgetClass-0.105.22/rglTimer.src.js"></script>
<script src="libs/CanvasMatrix4-0.105.22/CanvasMatrix.src.js"></script>
<script src="libs/proj4js-2.3.15/proj4.js"></script>
<link href="libs/highcharts-8.1.2/css/motion.css" rel="stylesheet" />
<script src="libs/highcharts-8.1.2/highcharts.js"></script>
<script src="libs/highcharts-8.1.2/highcharts-3d.js"></script>
<script src="libs/highcharts-8.1.2/highcharts-more.js"></script>
<script src="libs/highcharts-8.1.2/modules/stock.js"></script>
<script src="libs/highcharts-8.1.2/modules/map.js"></script>
<script src="libs/highcharts-8.1.2/modules/annotations.js"></script>
<script src="libs/highcharts-8.1.2/modules/data.js"></script>
<script src="libs/highcharts-8.1.2/modules/drilldown.js"></script>
<script src="libs/highcharts-8.1.2/modules/item-series.js"></script>
<script src="libs/highcharts-8.1.2/modules/offline-exporting.js"></script>
<script src="libs/highcharts-8.1.2/modules/overlapping-datalabels.js"></script>
<script src="libs/highcharts-8.1.2/modules/exporting.js"></script>
<script src="libs/highcharts-8.1.2/modules/export-data.js"></script>
<script src="libs/highcharts-8.1.2/modules/funnel.js"></script>
<script src="libs/highcharts-8.1.2/modules/heatmap.js"></script>
<script src="libs/highcharts-8.1.2/modules/treemap.js"></script>
<script src="libs/highcharts-8.1.2/modules/sankey.js"></script>
<script src="libs/highcharts-8.1.2/modules/dependency-wheel.js"></script>
<script src="libs/highcharts-8.1.2/modules/organization.js"></script>
<script src="libs/highcharts-8.1.2/modules/solid-gauge.js"></script>
<script src="libs/highcharts-8.1.2/modules/streamgraph.js"></script>
<script src="libs/highcharts-8.1.2/modules/sunburst.js"></script>
<script src="libs/highcharts-8.1.2/modules/vector.js"></script>
<script src="libs/highcharts-8.1.2/modules/wordcloud.js"></script>
<script src="libs/highcharts-8.1.2/modules/xrange.js"></script>
<script src="libs/highcharts-8.1.2/modules/tilemap.js"></script>
<script src="libs/highcharts-8.1.2/modules/venn.js"></script>
<script src="libs/highcharts-8.1.2/modules/gantt.js"></script>
<script src="libs/highcharts-8.1.2/modules/timeline.js"></script>
<script src="libs/highcharts-8.1.2/modules/parallel-coordinates.js"></script>
<script src="libs/highcharts-8.1.2/modules/bullet.js"></script>
<script src="libs/highcharts-8.1.2/modules/coloraxis.js"></script>
<script src="libs/highcharts-8.1.2/modules/dumbbell.js"></script>
<script src="libs/highcharts-8.1.2/modules/lollipop.js"></script>
<script src="libs/highcharts-8.1.2/modules/series-label.js"></script>
<script src="libs/highcharts-8.1.2/plugins/motion.js"></script>
<script src="libs/highcharts-8.1.2/custom/reset.js"></script>
<script src="libs/highcharts-8.1.2/modules/boost.js"></script>
<script src="libs/highchart-binding-0.8.2/highchart.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">cc for EDAV 2021</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Community contribution assignment</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#logistics"><i class="fa fa-check"></i><b>1.1</b> Logistics</a><ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#groups"><i class="fa fa-check"></i><b>1.1.1</b> Groups</a></li>
<li class="chapter" data-level="1.1.2" data-path="index.html"><a href="index.html#submitting-your-assignment"><i class="fa fa-check"></i><b>1.1.2</b> Submitting your assignment</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="github-submission-instructions.html"><a href="github-submission-instructions.html"><i class="fa fa-check"></i><b>2</b> GitHub submission instructions</a><ul>
<li class="chapter" data-level="2.1" data-path="github-submission-instructions.html"><a href="github-submission-instructions.html#background"><i class="fa fa-check"></i><b>2.1</b> Background</a></li>
<li class="chapter" data-level="2.2" data-path="github-submission-instructions.html"><a href="github-submission-instructions.html#preparing-your-.rmd-file"><i class="fa fa-check"></i><b>2.2</b> Preparing your <code>.Rmd</code> file</a></li>
<li class="chapter" data-level="2.3" data-path="github-submission-instructions.html"><a href="github-submission-instructions.html#submission-steps"><i class="fa fa-check"></i><b>2.3</b> Submission steps</a></li>
<li class="chapter" data-level="2.4" data-path="github-submission-instructions.html"><a href="github-submission-instructions.html#optional-tweaks"><i class="fa fa-check"></i><b>2.4</b> Optional tweaks</a></li>
<li class="chapter" data-level="2.5" data-path="github-submission-instructions.html"><a href="github-submission-instructions.html#faq"><i class="fa fa-check"></i><b>2.5</b> FAQ</a><ul>
<li class="chapter" data-level="2.5.1" data-path="github-submission-instructions.html"><a href="github-submission-instructions.html#what-should-i-expect-after-creating-a-pull-request"><i class="fa fa-check"></i><b>2.5.1</b> What should I expect after creating a pull request?</a></li>
<li class="chapter" data-level="2.5.2" data-path="github-submission-instructions.html"><a href="github-submission-instructions.html#what-if-i-catch-mistakes-before-my-pull-request-is-merged"><i class="fa fa-check"></i><b>2.5.2</b> What if I catch mistakes before my pull request is merged?</a></li>
<li class="chapter" data-level="2.5.3" data-path="github-submission-instructions.html"><a href="github-submission-instructions.html#what-if-i-catch-mistakes-after-my-pull-request-is-merged"><i class="fa fa-check"></i><b>2.5.3</b> What if I catch mistakes after my pull request is merged?</a></li>
<li class="chapter" data-level="2.5.4" data-path="github-submission-instructions.html"><a href="github-submission-instructions.html#other-questions"><i class="fa fa-check"></i><b>2.5.4</b> Other questions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="sample-project.html"><a href="sample-project.html"><i class="fa fa-check"></i><b>3</b> Sample project</a></li>
<li class="part"><span><b>I Cheatsheets</b></span></li>
<li class="chapter" data-level="4" data-path="date-time-handling-in-r-cheatsheet.html"><a href="date-time-handling-in-r-cheatsheet.html"><i class="fa fa-check"></i><b>4</b> Date-Time Handling in R Cheatsheet</a></li>
<li class="chapter" data-level="5" data-path="tidy-data-cheatsheet.html"><a href="tidy-data-cheatsheet.html"><i class="fa fa-check"></i><b>5</b> Tidy data Cheatsheet</a></li>
<li class="chapter" data-level="6" data-path="ggvis-cheatsheet.html"><a href="ggvis-cheatsheet.html"><i class="fa fa-check"></i><b>6</b> GGvis cheatsheet</a><ul>
<li class="chapter" data-level="6.1" data-path="ggvis-cheatsheet.html"><a href="ggvis-cheatsheet.html#ggvis"><i class="fa fa-check"></i><b>6.1</b> ggvis</a><ul>
<li class="chapter" data-level="6.1.1" data-path="ggvis-cheatsheet.html"><a href="ggvis-cheatsheet.html#getting-start"><i class="fa fa-check"></i><b>6.1.1</b> Getting start</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="ggvis-cheatsheet.html"><a href="ggvis-cheatsheet.html#aesthetics"><i class="fa fa-check"></i><b>6.2</b> aesthetics</a></li>
<li class="chapter" data-level="6.3" data-path="ggvis-cheatsheet.html"><a href="ggvis-cheatsheet.html#interaction"><i class="fa fa-check"></i><b>6.3</b> Interaction</a><ul>
<li class="chapter" data-level="6.3.1" data-path="ggvis-cheatsheet.html"><a href="ggvis-cheatsheet.html#basic-interaction"><i class="fa fa-check"></i><b>6.3.1</b> basic interaction</a></li>
<li class="chapter" data-level="6.3.2" data-path="ggvis-cheatsheet.html"><a href="ggvis-cheatsheet.html#input-option"><i class="fa fa-check"></i><b>6.3.2</b> Input option</a></li>
<li class="chapter" data-level="6.3.3" data-path="ggvis-cheatsheet.html"><a href="ggvis-cheatsheet.html#map"><i class="fa fa-check"></i><b>6.3.3</b> Map</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="ggvis-cheatsheet.html"><a href="ggvis-cheatsheet.html#layers"><i class="fa fa-check"></i><b>6.4</b> Layers</a><ul>
<li class="chapter" data-level="6.4.1" data-path="ggvis-cheatsheet.html"><a href="ggvis-cheatsheet.html#simple-layers"><i class="fa fa-check"></i><b>6.4.1</b> Simple layers</a></li>
<li class="chapter" data-level="6.4.2" data-path="ggvis-cheatsheet.html"><a href="ggvis-cheatsheet.html#compound-layers"><i class="fa fa-check"></i><b>6.4.2</b> Compound layers</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="statistical-hypothesis-testing-cheatsheet.html"><a href="statistical-hypothesis-testing-cheatsheet.html"><i class="fa fa-check"></i><b>7</b> Statistical_hypothesis_testing_cheatsheet</a></li>
<li class="chapter" data-level="8" data-path="basics-r-cheatsheet.html"><a href="basics-r-cheatsheet.html"><i class="fa fa-check"></i><b>8</b> Basics R Cheatsheet</a></li>
<li class="chapter" data-level="9" data-path="alluvial-diagram-cheatsheet.html"><a href="alluvial-diagram-cheatsheet.html"><i class="fa fa-check"></i><b>9</b> Alluvial Diagram Cheatsheet</a></li>
<li class="chapter" data-level="10" data-path="ggplot2-cheatsheet.html"><a href="ggplot2-cheatsheet.html"><i class="fa fa-check"></i><b>10</b> ggplot2_cheatsheet</a><ul>
<li class="chapter" data-level="10.1" data-path="ggplot2-cheatsheet.html"><a href="ggplot2-cheatsheet.html#some-advanced-techs-from-ggplot2"><i class="fa fa-check"></i><b>10.1</b> Some Advanced Techs from ggplot2</a></li>
<li class="chapter" data-level="10.2" data-path="ggplot2-cheatsheet.html"><a href="ggplot2-cheatsheet.html#dataset"><i class="fa fa-check"></i><b>10.2</b> Dataset</a></li>
<li class="chapter" data-level="10.3" data-path="ggplot2-cheatsheet.html"><a href="ggplot2-cheatsheet.html#facet"><i class="fa fa-check"></i><b>10.3</b> Facet</a></li>
<li class="chapter" data-level="10.4" data-path="ggplot2-cheatsheet.html"><a href="ggplot2-cheatsheet.html#facet-layer-basics"><i class="fa fa-check"></i><b>10.4</b> Facet layer basics</a></li>
<li class="chapter" data-level="10.5" data-path="ggplot2-cheatsheet.html"><a href="ggplot2-cheatsheet.html#many-variables"><i class="fa fa-check"></i><b>10.5</b> Many variables</a></li>
<li class="chapter" data-level="10.6" data-path="ggplot2-cheatsheet.html"><a href="ggplot2-cheatsheet.html#formula-notation"><i class="fa fa-check"></i><b>10.6</b> Formula notation</a></li>
<li class="chapter" data-level="10.7" data-path="ggplot2-cheatsheet.html"><a href="ggplot2-cheatsheet.html#labeling-facets"><i class="fa fa-check"></i><b>10.7</b> Labeling facets</a></li>
<li class="chapter" data-level="10.8" data-path="ggplot2-cheatsheet.html"><a href="ggplot2-cheatsheet.html#coordinates"><i class="fa fa-check"></i><b>10.8</b> Coordinates</a></li>
<li class="chapter" data-level="10.9" data-path="ggplot2-cheatsheet.html"><a href="ggplot2-cheatsheet.html#expand-and-clip"><i class="fa fa-check"></i><b>10.9</b> Expand and clip</a></li>
<li class="chapter" data-level="10.10" data-path="ggplot2-cheatsheet.html"><a href="ggplot2-cheatsheet.html#flipping-axes"><i class="fa fa-check"></i><b>10.10</b> Flipping axes</a></li>
<li class="chapter" data-level="10.11" data-path="ggplot2-cheatsheet.html"><a href="ggplot2-cheatsheet.html#pie-charts"><i class="fa fa-check"></i><b>10.11</b> Pie charts</a></li>
<li class="chapter" data-level="10.12" data-path="ggplot2-cheatsheet.html"><a href="ggplot2-cheatsheet.html#conclusion"><i class="fa fa-check"></i><b>10.12</b> Conclusion</a></li>
</ul></li>
<li class="part"><span><b>II Translations</b></span></li>
<li class="chapter" data-level="11" data-path="colors-in-r-chinese-translation.html"><a href="colors-in-r-chinese-translation.html"><i class="fa fa-check"></i><b>11</b> Colors_in_R_Chinese_translation</a><ul>
<li class="chapter" data-level="11.1" data-path="colors-in-r-chinese-translation.html"><a href="colors-in-r-chinese-translation.html#在r中使用颜色"><i class="fa fa-check"></i><b>11.1</b> 在R中使用颜色</a><ul>
<li class="chapter" data-level="11.1.1" data-path="colors-in-r-chinese-translation.html"><a href="colors-in-r-chinese-translation.html#r自带的指定颜色名称"><i class="fa fa-check"></i><b>11.1.1</b> R自带的指定颜色名称</a></li>
<li class="chapter" data-level="11.1.2" data-path="colors-in-r-chinese-translation.html"><a href="colors-in-r-chinese-translation.html#使用十六进制编码指定颜色"><i class="fa fa-check"></i><b>11.1.2</b> 使用十六进制编码指定颜色</a></li>
<li class="chapter" data-level="11.1.3" data-path="colors-in-r-chinese-translation.html"><a href="colors-in-r-chinese-translation.html#使用-rcolorbrewer-调色盘"><i class="fa fa-check"></i><b>11.1.3</b> 使用 RColorBrewer 调色盘</a></li>
<li class="chapter" data-level="11.1.4" data-path="colors-in-r-chinese-translation.html"><a href="colors-in-r-chinese-translation.html#使用-wes-anderson-调色盘"><i class="fa fa-check"></i><b>11.1.4</b> 使用 Wes Anderson 调色盘</a></li>
<li class="chapter" data-level="11.1.5" data-path="colors-in-r-chinese-translation.html"><a href="colors-in-r-chinese-translation.html#创建一个n个连续颜色的矢量"><i class="fa fa-check"></i><b>11.1.5</b> 创建一个n个连续颜色的矢量</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="managing-data-frames-with-dplyr-package-in-chinese.html"><a href="managing-data-frames-with-dplyr-package-in-chinese.html"><i class="fa fa-check"></i><b>12</b> Managing Data Frames with dplyr Package in Chinese</a><ul>
<li class="chapter" data-level="12.1" data-path="managing-data-frames-with-dplyr-package-in-chinese.html"><a href="managing-data-frames-with-dplyr-package-in-chinese.html#short-description-of-my-contribution"><i class="fa fa-check"></i><b>12.1</b> Short Description of My Contribution</a></li>
<li class="chapter" data-level="12.2" data-path="managing-data-frames-with-dplyr-package-in-chinese.html"><a href="managing-data-frames-with-dplyr-package-in-chinese.html#数据表"><i class="fa fa-check"></i><b>12.2</b> 数据表</a></li>
<li class="chapter" data-level="12.3" data-path="managing-data-frames-with-dplyr-package-in-chinese.html"><a href="managing-data-frames-with-dplyr-package-in-chinese.html#dplyr包"><i class="fa fa-check"></i><b>12.3</b> dplyr包</a></li>
<li class="chapter" data-level="12.4" data-path="managing-data-frames-with-dplyr-package-in-chinese.html"><a href="managing-data-frames-with-dplyr-package-in-chinese.html#dplyr语法"><i class="fa fa-check"></i><b>12.4</b> dplyr语法</a><ul>
<li class="chapter" data-level="12.4.1" data-path="managing-data-frames-with-dplyr-package-in-chinese.html"><a href="managing-data-frames-with-dplyr-package-in-chinese.html#通用dplyr函数属性"><i class="fa fa-check"></i><b>12.4.1</b> 通用dplyr函数属性</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="managing-data-frames-with-dplyr-package-in-chinese.html"><a href="managing-data-frames-with-dplyr-package-in-chinese.html#安装dplyr包"><i class="fa fa-check"></i><b>12.5</b> 安装dplyr包</a></li>
<li class="chapter" data-level="12.6" data-path="managing-data-frames-with-dplyr-package-in-chinese.html"><a href="managing-data-frames-with-dplyr-package-in-chinese.html#select"><i class="fa fa-check"></i><b>12.6</b> select()</a></li>
<li class="chapter" data-level="12.7" data-path="managing-data-frames-with-dplyr-package-in-chinese.html"><a href="managing-data-frames-with-dplyr-package-in-chinese.html#filter"><i class="fa fa-check"></i><b>12.7</b> filter()</a></li>
<li class="chapter" data-level="12.8" data-path="managing-data-frames-with-dplyr-package-in-chinese.html"><a href="managing-data-frames-with-dplyr-package-in-chinese.html#arrange"><i class="fa fa-check"></i><b>12.8</b> arrange()</a></li>
<li class="chapter" data-level="12.9" data-path="managing-data-frames-with-dplyr-package-in-chinese.html"><a href="managing-data-frames-with-dplyr-package-in-chinese.html#rename"><i class="fa fa-check"></i><b>12.9</b> rename()</a></li>
<li class="chapter" data-level="12.10" data-path="managing-data-frames-with-dplyr-package-in-chinese.html"><a href="managing-data-frames-with-dplyr-package-in-chinese.html#mutate"><i class="fa fa-check"></i><b>12.10</b> mutate()</a></li>
<li class="chapter" data-level="12.11" data-path="managing-data-frames-with-dplyr-package-in-chinese.html"><a href="managing-data-frames-with-dplyr-package-in-chinese.html#group_by"><i class="fa fa-check"></i><b>12.11</b> group_by()</a></li>
<li class="chapter" data-level="12.12" data-path="managing-data-frames-with-dplyr-package-in-chinese.html"><a href="managing-data-frames-with-dplyr-package-in-chinese.html#section"><i class="fa fa-check"></i><b>12.12</b> %&gt;%</a></li>
<li class="chapter" data-level="12.13" data-path="managing-data-frames-with-dplyr-package-in-chinese.html"><a href="managing-data-frames-with-dplyr-package-in-chinese.html#总结"><i class="fa fa-check"></i><b>12.13</b> 总结</a></li>
<li class="chapter" data-level="12.14" data-path="managing-data-frames-with-dplyr-package-in-chinese.html"><a href="managing-data-frames-with-dplyr-package-in-chinese.html#cited-resourses"><i class="fa fa-check"></i><b>12.14</b> Cited Resourses</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="introduction-to-rstudio-in-portuguese.html"><a href="introduction-to-rstudio-in-portuguese.html"><i class="fa fa-check"></i><b>13</b> Introduction to Rstudio in Portuguese</a></li>
<li class="chapter" data-level="14" data-path="chinese-translation-of-using-arima-models-in-r.html"><a href="chinese-translation-of-using-arima-models-in-r.html"><i class="fa fa-check"></i><b>14</b> Chinese translation of using ARIMA models in R</a><ul>
<li class="chapter" data-level="14.1" data-path="chinese-translation-of-using-arima-models-in-r.html"><a href="chinese-translation-of-using-arima-models-in-r.html#arima模型"><i class="fa fa-check"></i><b>14.1</b> ARIMA模型</a><ul>
<li class="chapter" data-level="14.1.1" data-path="chinese-translation-of-using-arima-models-in-r.html"><a href="chinese-translation-of-using-arima-models-in-r.html#差异化一组时间序列"><i class="fa fa-check"></i><b>14.1.1</b> 差异化一组时间序列</a></li>
<li class="chapter" data-level="14.1.2" data-path="chinese-translation-of-using-arima-models-in-r.html"><a href="chinese-translation-of-using-arima-models-in-r.html#选择arima候选模型"><i class="fa fa-check"></i><b>14.1.2</b> 选择ARIMA候选模型</a></li>
<li class="chapter" data-level="14.1.3" data-path="chinese-translation-of-using-arima-models-in-r.html"><a href="chinese-translation-of-using-arima-models-in-r.html#使用arima模型进行预测"><i class="fa fa-check"></i><b>14.1.3</b> 使用ARIMA模型进行预测</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="chinese-translation-of-broom-package.html"><a href="chinese-translation-of-broom-package.html"><i class="fa fa-check"></i><b>15</b> Chinese translation of broom package</a><ul>
<li class="chapter" data-level="15.1" data-path="chinese-translation-of-broom-package.html"><a href="chinese-translation-of-broom-package.html#序言"><i class="fa fa-check"></i><b>15.1</b> 序言</a></li>
<li class="chapter" data-level="15.2" data-path="chinese-translation-of-broom-package.html"><a href="chinese-translation-of-broom-package.html#整理函数"><i class="fa fa-check"></i><b>15.2</b> 整理函数</a></li>
<li class="chapter" data-level="15.3" data-path="chinese-translation-of-broom-package.html"><a href="chinese-translation-of-broom-package.html#其他案例"><i class="fa fa-check"></i><b>15.3</b> 其他案例</a><ul>
<li class="chapter" data-level="15.3.1" data-path="chinese-translation-of-broom-package.html"><a href="chinese-translation-of-broom-package.html#广义线性模型和非线性模型"><i class="fa fa-check"></i><b>15.3.1</b> 广义线性模型和非线性模型</a></li>
<li class="chapter" data-level="15.3.2" data-path="chinese-translation-of-broom-package.html"><a href="chinese-translation-of-broom-package.html#假设检验"><i class="fa fa-check"></i><b>15.3.2</b> 假设检验</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="chinese-translation-of-broom-package.html"><a href="chinese-translation-of-broom-package.html#规则"><i class="fa fa-check"></i><b>15.4</b> 规则</a><ul>
<li class="chapter" data-level="15.4.1" data-path="chinese-translation-of-broom-package.html"><a href="chinese-translation-of-broom-package.html#全部函数"><i class="fa fa-check"></i><b>15.4.1</b> 全部函数</a></li>
<li class="chapter" data-level="15.4.2" data-path="chinese-translation-of-broom-package.html"><a href="chinese-translation-of-broom-package.html#tidy函数"><i class="fa fa-check"></i><b>15.4.2</b> tidy函数</a></li>
<li class="chapter" data-level="15.4.3" data-path="chinese-translation-of-broom-package.html"><a href="chinese-translation-of-broom-package.html#augment函数"><i class="fa fa-check"></i><b>15.4.3</b> augment函数</a></li>
<li class="chapter" data-level="15.4.4" data-path="chinese-translation-of-broom-package.html"><a href="chinese-translation-of-broom-package.html#glance函数"><i class="fa fa-check"></i><b>15.4.4</b> glance函数</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="translation-of-visualizations-that-really-work.html"><a href="translation-of-visualizations-that-really-work.html"><i class="fa fa-check"></i><b>16</b> Translation of Visualizations That Really Work</a></li>
<li class="chapter" data-level="17" data-path="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html"><a href="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html"><i class="fa fa-check"></i><b>17</b> Chinese Translation of Bar Chart and Cleveland Dot Plot</a><ul>
<li class="chapter" data-level="17.1" data-path="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html"><a href="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html#图表条形图"><i class="fa fa-check"></i><b>17.1</b> 图表：条形图</a><ul>
<li class="chapter" data-level="17.1.1" data-path="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html"><a href="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html#综述"><i class="fa fa-check"></i><b>17.1.1</b> 综述</a></li>
<li class="chapter" data-level="17.1.2" data-path="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html"><a href="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html#太长不看"><i class="fa fa-check"></i><b>17.1.2</b> 太长不看</a></li>
<li class="chapter" data-level="17.1.3" data-path="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html"><a href="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html#简单的例子"><i class="fa fa-check"></i><b>17.1.3</b> 简单的例子</a></li>
<li class="chapter" data-level="17.1.4" data-path="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html"><a href="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html#理论"><i class="fa fa-check"></i><b>17.1.4</b> 理论</a></li>
<li class="chapter" data-level="17.1.5" data-path="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html"><a href="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html#何时使用"><i class="fa fa-check"></i><b>17.1.5</b> 何时使用</a></li>
<li class="chapter" data-level="17.1.6" data-path="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html"><a href="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html#注意事项"><i class="fa fa-check"></i><b>17.1.6</b> 注意事项</a></li>
<li class="chapter" data-level="17.1.7" data-path="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html"><a href="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html#修改"><i class="fa fa-check"></i><b>17.1.7</b> 修改</a></li>
<li class="chapter" data-level="17.1.8" data-path="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html"><a href="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html#外部资源"><i class="fa fa-check"></i><b>17.1.8</b> 外部资源</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html"><a href="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html#图表克利夫兰点图"><i class="fa fa-check"></i><b>17.2</b> 图表：克利夫兰点图</a><ul>
<li class="chapter" data-level="17.2.1" data-path="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html"><a href="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html#综述-1"><i class="fa fa-check"></i><b>17.2.1</b> 综述</a></li>
<li class="chapter" data-level="17.2.2" data-path="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html"><a href="chinese-translation-of-bar-chart-and-cleveland-dot-plot.html#多点图"><i class="fa fa-check"></i><b>17.2.2</b> 多点图</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="translation-of-critical-covid-data-visualizations-paper.html"><a href="translation-of-critical-covid-data-visualizations-paper.html"><i class="fa fa-check"></i><b>18</b> Translation of critical covid data visualizations paper</a></li>
<li class="chapter" data-level="19" data-path="translate-ibm-website-about-design-language-into-chinese.html"><a href="translate-ibm-website-about-design-language-into-chinese.html"><i class="fa fa-check"></i><b>19</b> Translate IBM Website about Design Language into Chinese</a></li>
<li class="chapter" data-level="20" data-path="chinese-translation-exploratory-data-analysis-and-data-visualization.html"><a href="chinese-translation-exploratory-data-analysis-and-data-visualization.html"><i class="fa fa-check"></i><b>20</b> Chinese Translation Exploratory Data Analysis and Data Visualization</a></li>
<li class="chapter" data-level="21" data-path="chinese-translation-of-stringr-package.html"><a href="chinese-translation-of-stringr-package.html"><i class="fa fa-check"></i><b>21</b> Chinese translation of stringr package</a></li>
<li class="part"><span><b>III Tutorials</b></span></li>
<li class="chapter" data-level="22" data-path="creating-r-packages.html"><a href="creating-r-packages.html"><i class="fa fa-check"></i><b>22</b> Creating R Packages</a></li>
<li class="chapter" data-level="23" data-path="introduction-to-quandl.html"><a href="introduction-to-quandl.html"><i class="fa fa-check"></i><b>23</b> Introduction to Quandl()</a><ul>
<li class="chapter" data-level="23.1" data-path="introduction-to-quandl.html"><a href="introduction-to-quandl.html#introduction"><i class="fa fa-check"></i><b>23.1</b> INTRODUCTION</a><ul>
<li class="chapter" data-level="23.1.1" data-path="introduction-to-quandl.html"><a href="introduction-to-quandl.html#installation"><i class="fa fa-check"></i><b>23.1.1</b> Installation :</a></li>
<li class="chapter" data-level="23.1.2" data-path="introduction-to-quandl.html"><a href="introduction-to-quandl.html#load-package"><i class="fa fa-check"></i><b>23.1.2</b> Load Package</a></li>
<li class="chapter" data-level="23.1.3" data-path="introduction-to-quandl.html"><a href="introduction-to-quandl.html#set-api-key"><i class="fa fa-check"></i><b>23.1.3</b> Set API key</a></li>
<li class="chapter" data-level="23.1.4" data-path="introduction-to-quandl.html"><a href="introduction-to-quandl.html#loading-data"><i class="fa fa-check"></i><b>23.1.4</b> Loading Data</a></li>
<li class="chapter" data-level="23.1.5" data-path="introduction-to-quandl.html"><a href="introduction-to-quandl.html#type"><i class="fa fa-check"></i><b>23.1.5</b> Type</a></li>
<li class="chapter" data-level="23.1.6" data-path="introduction-to-quandl.html"><a href="introduction-to-quandl.html#transform"><i class="fa fa-check"></i><b>23.1.6</b> Transform</a></li>
<li class="chapter" data-level="23.1.7" data-path="introduction-to-quandl.html"><a href="introduction-to-quandl.html#order"><i class="fa fa-check"></i><b>23.1.7</b> Order</a></li>
<li class="chapter" data-level="23.1.8" data-path="introduction-to-quandl.html"><a href="introduction-to-quandl.html#collapse"><i class="fa fa-check"></i><b>23.1.8</b> collapse</a></li>
<li class="chapter" data-level="23.1.9" data-path="introduction-to-quandl.html"><a href="introduction-to-quandl.html#slicing-data"><i class="fa fa-check"></i><b>23.1.9</b> Slicing data</a></li>
<li class="chapter" data-level="23.1.10" data-path="introduction-to-quandl.html"><a href="introduction-to-quandl.html#finding-a-dataset-in-quandl"><i class="fa fa-check"></i><b>23.1.10</b> Finding a dataset in Quandl</a></li>
<li class="chapter" data-level="23.1.11" data-path="introduction-to-quandl.html"><a href="introduction-to-quandl.html#example"><i class="fa fa-check"></i><b>23.1.11</b> Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="24" data-path="getting-data-using-apis.html"><a href="getting-data-using-apis.html"><i class="fa fa-check"></i><b>24</b> Getting data using APIs</a></li>
<li class="chapter" data-level="25" data-path="introdution-to-time-series-analysis.html"><a href="introdution-to-time-series-analysis.html"><i class="fa fa-check"></i><b>25</b> Introdution to Time Series Analysis</a><ul>
<li class="chapter" data-level="25.1" data-path="introdution-to-time-series-analysis.html"><a href="introdution-to-time-series-analysis.html#overview"><i class="fa fa-check"></i><b>25.1</b> Overview</a></li>
<li class="chapter" data-level="25.2" data-path="introdution-to-time-series-analysis.html"><a href="introdution-to-time-series-analysis.html#introduction-1"><i class="fa fa-check"></i><b>25.2</b> Introduction</a><ul>
<li class="chapter" data-level="25.2.1" data-path="introdution-to-time-series-analysis.html"><a href="introdution-to-time-series-analysis.html#example-1"><i class="fa fa-check"></i><b>25.2.1</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="25.3" data-path="introdution-to-time-series-analysis.html"><a href="introdution-to-time-series-analysis.html#simple-time-series"><i class="fa fa-check"></i><b>25.3</b> Simple Time Series</a><ul>
<li class="chapter" data-level="25.3.1" data-path="introdution-to-time-series-analysis.html"><a href="introdution-to-time-series-analysis.html#definition"><i class="fa fa-check"></i><b>25.3.1</b> Definition</a></li>
<li class="chapter" data-level="25.3.2" data-path="introdution-to-time-series-analysis.html"><a href="introdution-to-time-series-analysis.html#white-noise"><i class="fa fa-check"></i><b>25.3.2</b> White Noise</a></li>
<li class="chapter" data-level="25.3.3" data-path="introdution-to-time-series-analysis.html"><a href="introdution-to-time-series-analysis.html#moving-average-of-white-noise"><i class="fa fa-check"></i><b>25.3.3</b> Moving Average of White Noise</a></li>
<li class="chapter" data-level="25.3.4" data-path="introdution-to-time-series-analysis.html"><a href="introdution-to-time-series-analysis.html#random-walk-with-drift"><i class="fa fa-check"></i><b>25.3.4</b> Random Walk with Drift</a></li>
<li class="chapter" data-level="25.3.5" data-path="introdution-to-time-series-analysis.html"><a href="introdution-to-time-series-analysis.html#ar1"><i class="fa fa-check"></i><b>25.3.5</b> AR(1)</a></li>
<li class="chapter" data-level="25.3.6" data-path="introdution-to-time-series-analysis.html"><a href="introdution-to-time-series-analysis.html#ma1"><i class="fa fa-check"></i><b>25.3.6</b> MA(1)</a></li>
</ul></li>
<li class="chapter" data-level="25.4" data-path="introdution-to-time-series-analysis.html"><a href="introdution-to-time-series-analysis.html#measures-of-dependence"><i class="fa fa-check"></i><b>25.4</b> Measures of Dependence</a><ul>
<li class="chapter" data-level="25.4.1" data-path="introdution-to-time-series-analysis.html"><a href="introdution-to-time-series-analysis.html#mean-function"><i class="fa fa-check"></i><b>25.4.1</b> Mean Function</a></li>
<li class="chapter" data-level="25.4.2" data-path="introdution-to-time-series-analysis.html"><a href="introdution-to-time-series-analysis.html#autocovariance-function"><i class="fa fa-check"></i><b>25.4.2</b> Autocovariance Function</a></li>
<li class="chapter" data-level="25.4.3" data-path="introdution-to-time-series-analysis.html"><a href="introdution-to-time-series-analysis.html#autocorrelation-function-acf"><i class="fa fa-check"></i><b>25.4.3</b> Autocorrelation Function (ACF)</a></li>
<li class="chapter" data-level="25.4.4" data-path="introdution-to-time-series-analysis.html"><a href="introdution-to-time-series-analysis.html#three-measures-for-simple-time-series-above"><i class="fa fa-check"></i><b>25.4.4</b> Three Measures for Simple Time Series Above</a></li>
<li class="chapter" data-level="25.4.5" data-path="introdution-to-time-series-analysis.html"><a href="introdution-to-time-series-analysis.html#application"><i class="fa fa-check"></i><b>25.4.5</b> Application</a></li>
</ul></li>
<li class="chapter" data-level="25.5" data-path="introdution-to-time-series-analysis.html"><a href="introdution-to-time-series-analysis.html#reference"><i class="fa fa-check"></i><b>25.5</b> Reference</a></li>
</ul></li>
<li class="chapter" data-level="26" data-path="intro-to-tableau-with-r.html"><a href="intro-to-tableau-with-r.html"><i class="fa fa-check"></i><b>26</b> Intro to Tableau with R</a></li>
<li class="chapter" data-level="27" data-path="sentiment-analysis-and-wordcloud.html"><a href="sentiment-analysis-and-wordcloud.html"><i class="fa fa-check"></i><b>27</b> Sentiment analysis and wordcloud</a><ul>
<li class="chapter" data-level="27.1" data-path="sentiment-analysis-and-wordcloud.html"><a href="sentiment-analysis-and-wordcloud.html#read-and-explore-the-text"><i class="fa fa-check"></i><b>27.1</b> Read and explore the text</a><ul>
<li class="chapter" data-level="27.1.1" data-path="sentiment-analysis-and-wordcloud.html"><a href="sentiment-analysis-and-wordcloud.html#explore-ratings-of-reviews"><i class="fa fa-check"></i><b>27.1.1</b> Explore Ratings of Reviews</a></li>
<li class="chapter" data-level="27.1.2" data-path="sentiment-analysis-and-wordcloud.html"><a href="sentiment-analysis-and-wordcloud.html#distribution-of-ratings"><i class="fa fa-check"></i><b>27.1.2</b> Distribution of Ratings</a></li>
<li class="chapter" data-level="27.1.3" data-path="sentiment-analysis-and-wordcloud.html"><a href="sentiment-analysis-and-wordcloud.html#explore-the-reviews"><i class="fa fa-check"></i><b>27.1.3</b> Explore the reviews</a></li>
<li class="chapter" data-level="27.1.4" data-path="sentiment-analysis-and-wordcloud.html"><a href="sentiment-analysis-and-wordcloud.html#most-common-words"><i class="fa fa-check"></i><b>27.1.4</b> Most common words</a></li>
</ul></li>
<li class="chapter" data-level="27.2" data-path="sentiment-analysis-and-wordcloud.html"><a href="sentiment-analysis-and-wordcloud.html#sentiment-analysis"><i class="fa fa-check"></i><b>27.2</b> Sentiment analysis</a><ul>
<li class="chapter" data-level="27.2.1" data-path="sentiment-analysis-and-wordcloud.html"><a href="sentiment-analysis-and-wordcloud.html#words-in-reviews"><i class="fa fa-check"></i><b>27.2.1</b> Words in reviews</a></li>
<li class="chapter" data-level="27.2.2" data-path="sentiment-analysis-and-wordcloud.html"><a href="sentiment-analysis-and-wordcloud.html#word-lexicons---bing"><i class="fa fa-check"></i><b>27.2.2</b> Word lexicons —- Bing</a></li>
<li class="chapter" data-level="27.2.3" data-path="sentiment-analysis-and-wordcloud.html"><a href="sentiment-analysis-and-wordcloud.html#word-lexicons---nrc"><i class="fa fa-check"></i><b>27.2.3</b> Word lexicons —- nrc</a></li>
</ul></li>
<li class="chapter" data-level="27.3" data-path="sentiment-analysis-and-wordcloud.html"><a href="sentiment-analysis-and-wordcloud.html#wordcloud"><i class="fa fa-check"></i><b>27.3</b> Wordcloud</a><ul>
<li class="chapter" data-level="27.3.1" data-path="sentiment-analysis-and-wordcloud.html"><a href="sentiment-analysis-and-wordcloud.html#simple-word-cloud-visualization"><i class="fa fa-check"></i><b>27.3.1</b> Simple Word Cloud Visualization</a></li>
<li class="chapter" data-level="27.3.2" data-path="sentiment-analysis-and-wordcloud.html"><a href="sentiment-analysis-and-wordcloud.html#comparison-word-cloud"><i class="fa fa-check"></i><b>27.3.2</b> Comparison Word Cloud</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="28" data-path="twitter-sentiment-analysis-in-r.html"><a href="twitter-sentiment-analysis-in-r.html"><i class="fa fa-check"></i><b>28</b> Twitter sentiment analysis in R</a><ul>
<li class="chapter" data-level="28.1" data-path="twitter-sentiment-analysis-in-r.html"><a href="twitter-sentiment-analysis-in-r.html#loading-all-the-required-r-libraries"><i class="fa fa-check"></i><b>28.1</b> Loading all the required R libraries</a></li>
<li class="chapter" data-level="28.2" data-path="twitter-sentiment-analysis-in-r.html"><a href="twitter-sentiment-analysis-in-r.html#sentiment-analysis-1"><i class="fa fa-check"></i><b>28.2</b> Sentiment Analysis</a></li>
<li class="chapter" data-level="28.3" data-path="twitter-sentiment-analysis-in-r.html"><a href="twitter-sentiment-analysis-in-r.html#twitter-authorization-to-extract-tweets"><i class="fa fa-check"></i><b>28.3</b> Twitter authorization to extract tweets:</a></li>
<li class="chapter" data-level="28.4" data-path="twitter-sentiment-analysis-in-r.html"><a href="twitter-sentiment-analysis-in-r.html#extracting-global-warming-tweets"><i class="fa fa-check"></i><b>28.4</b> Extracting Global Warming tweets:</a></li>
<li class="chapter" data-level="28.5" data-path="twitter-sentiment-analysis-in-r.html"><a href="twitter-sentiment-analysis-in-r.html#frequency-of-tweets"><i class="fa fa-check"></i><b>28.5</b> Frequency of Tweets</a></li>
<li class="chapter" data-level="28.6" data-path="twitter-sentiment-analysis-in-r.html"><a href="twitter-sentiment-analysis-in-r.html#estimating-sentiment-score"><i class="fa fa-check"></i><b>28.6</b> Estimating Sentiment Score</a><ul>
<li class="chapter" data-level="28.6.1" data-path="twitter-sentiment-analysis-in-r.html"><a href="twitter-sentiment-analysis-in-r.html#loading-sentiment-word-lists"><i class="fa fa-check"></i><b>28.6.1</b> Loading sentiment word lists:</a></li>
<li class="chapter" data-level="28.6.2" data-path="twitter-sentiment-analysis-in-r.html"><a href="twitter-sentiment-analysis-in-r.html#sentiment-scoring-function"><i class="fa fa-check"></i><b>28.6.2</b> Sentiment scoring function:</a></li>
<li class="chapter" data-level="28.6.3" data-path="twitter-sentiment-analysis-in-r.html"><a href="twitter-sentiment-analysis-in-r.html#calculating-the-sentiment-score"><i class="fa fa-check"></i><b>28.6.3</b> Calculating the sentiment score:</a></li>
</ul></li>
<li class="chapter" data-level="28.7" data-path="twitter-sentiment-analysis-in-r.html"><a href="twitter-sentiment-analysis-in-r.html#histogram-of-sentiment-scores"><i class="fa fa-check"></i><b>28.7</b> Histogram of sentiment scores:</a></li>
<li class="chapter" data-level="28.8" data-path="twitter-sentiment-analysis-in-r.html"><a href="twitter-sentiment-analysis-in-r.html#barplot-of-sentiment-type"><i class="fa fa-check"></i><b>28.8</b> Barplot of sentiment type:</a></li>
<li class="chapter" data-level="28.9" data-path="twitter-sentiment-analysis-in-r.html"><a href="twitter-sentiment-analysis-in-r.html#wordcloud-1"><i class="fa fa-check"></i><b>28.9</b> Wordcloud:</a></li>
<li class="chapter" data-level="28.10" data-path="twitter-sentiment-analysis-in-r.html"><a href="twitter-sentiment-analysis-in-r.html#word-frequency-plot"><i class="fa fa-check"></i><b>28.10</b> Word Frequency plot:</a></li>
<li class="chapter" data-level="28.11" data-path="twitter-sentiment-analysis-in-r.html"><a href="twitter-sentiment-analysis-in-r.html#network-analysis"><i class="fa fa-check"></i><b>28.11</b> Network Analysis</a><ul>
<li class="chapter" data-level="28.11.1" data-path="twitter-sentiment-analysis-in-r.html"><a href="twitter-sentiment-analysis-in-r.html#bigram-analysis-and-network-definition"><i class="fa fa-check"></i><b>28.11.1</b> Bigram analysis and Network definition</a></li>
<li class="chapter" data-level="28.11.2" data-path="twitter-sentiment-analysis-in-r.html"><a href="twitter-sentiment-analysis-in-r.html#network-visualization"><i class="fa fa-check"></i><b>28.11.2</b> Network visualization</a></li>
</ul></li>
<li class="chapter" data-level="28.12" data-path="twitter-sentiment-analysis-in-r.html"><a href="twitter-sentiment-analysis-in-r.html#references"><i class="fa fa-check"></i><b>28.12</b> References:</a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="introduction-to-pyecharts.html"><a href="introduction-to-pyecharts.html"><i class="fa fa-check"></i><b>29</b> Introduction to pyecharts</a></li>
<li class="chapter" data-level="30" data-path="up-and-running-quickly-with-leaflet.html"><a href="up-and-running-quickly-with-leaflet.html"><i class="fa fa-check"></i><b>30</b> Up and Running (Quickly) with Leaflet</a><ul>
<li class="chapter" data-level="30.1" data-path="up-and-running-quickly-with-leaflet.html"><a href="up-and-running-quickly-with-leaflet.html#what-is-leaflet"><i class="fa fa-check"></i><b>30.1</b> What is leaflet?</a></li>
<li class="chapter" data-level="30.2" data-path="up-and-running-quickly-with-leaflet.html"><a href="up-and-running-quickly-with-leaflet.html#why-should-we-use-leaflet-on-r"><i class="fa fa-check"></i><b>30.2</b> Why should we use leaflet on R?</a><ul>
<li class="chapter" data-level="30.2.1" data-path="up-and-running-quickly-with-leaflet.html"><a href="up-and-running-quickly-with-leaflet.html#reason-why-you-should-use-leaflet"><i class="fa fa-check"></i><b>30.2.1</b> Reason why you should use leaflet</a></li>
</ul></li>
<li class="chapter" data-level="30.3" data-path="up-and-running-quickly-with-leaflet.html"><a href="up-and-running-quickly-with-leaflet.html#why-another-how-to-post-on-leaflet"><i class="fa fa-check"></i><b>30.3</b> Why another how-to post on Leaflet?</a></li>
<li class="chapter" data-level="30.4" data-path="up-and-running-quickly-with-leaflet.html"><a href="up-and-running-quickly-with-leaflet.html#first-creating-a-base-map"><i class="fa fa-check"></i><b>30.4</b> First: Creating a base map</a></li>
<li class="chapter" data-level="30.5" data-path="up-and-running-quickly-with-leaflet.html"><a href="up-and-running-quickly-with-leaflet.html#second-loading-feature-data"><i class="fa fa-check"></i><b>30.5</b> Second: Loading feature data</a><ul>
<li class="chapter" data-level="30.5.1" data-path="up-and-running-quickly-with-leaflet.html"><a href="up-and-running-quickly-with-leaflet.html#what-does-geospatial-data-look-like"><i class="fa fa-check"></i><b>30.5.1</b> What does geospatial data look like?</a></li>
</ul></li>
<li class="chapter" data-level="30.6" data-path="up-and-running-quickly-with-leaflet.html"><a href="up-and-running-quickly-with-leaflet.html#last-saving-the-map"><i class="fa fa-check"></i><b>30.6</b> Last: Saving the map</a></li>
</ul></li>
<li class="chapter" data-level="31" data-path="introduction-to-geographic-chart-in-r.html"><a href="introduction-to-geographic-chart-in-r.html"><i class="fa fa-check"></i><b>31</b> Introduction to geographic chart in R</a></li>
<li class="chapter" data-level="32" data-path="interview-questions-for-data-visualization.html"><a href="interview-questions-for-data-visualization.html"><i class="fa fa-check"></i><b>32</b> Interview questions for data visualization</a><ul>
<li class="chapter" data-level="32.0.1" data-path="interview-questions-for-data-visualization.html"><a href="interview-questions-for-data-visualization.html#general-questions"><i class="fa fa-check"></i><b>32.0.1</b> General Questions</a></li>
<li class="chapter" data-level="32.0.2" data-path="interview-questions-for-data-visualization.html"><a href="interview-questions-for-data-visualization.html#r-questions"><i class="fa fa-check"></i><b>32.0.2</b> R Questions</a></li>
<li class="chapter" data-level="32.0.3" data-path="interview-questions-for-data-visualization.html"><a href="interview-questions-for-data-visualization.html#python-questions"><i class="fa fa-check"></i><b>32.0.3</b> Python Questions</a></li>
<li class="chapter" data-level="32.0.4" data-path="interview-questions-for-data-visualization.html"><a href="interview-questions-for-data-visualization.html#tableau-questions"><i class="fa fa-check"></i><b>32.0.4</b> Tableau Questions</a></li>
</ul></li>
<li class="chapter" data-level="33" data-path="introduction-to-supervised-machine-learning.html"><a href="introduction-to-supervised-machine-learning.html"><i class="fa fa-check"></i><b>33</b> Introduction to Supervised Machine Learning</a></li>
<li class="chapter" data-level="34" data-path="data-acquisition-and-wrangling.html"><a href="data-acquisition-and-wrangling.html"><i class="fa fa-check"></i><b>34</b> Data acquisition and wrangling</a></li>
<li class="chapter" data-level="35" data-path="complete-eda-process-and-visualizations-in-python.html"><a href="complete-eda-process-and-visualizations-in-python.html"><i class="fa fa-check"></i><b>35</b> Complete EDA Process and Visualizations in Python</a></li>
<li class="chapter" data-level="36" data-path="data-transformation-with-dplyr-video-tutorial.html"><a href="data-transformation-with-dplyr-video-tutorial.html"><i class="fa fa-check"></i><b>36</b> Data Transformation with Dplyr Video Tutorial</a></li>
<li class="chapter" data-level="37" data-path="data-science-ethics.html"><a href="data-science-ethics.html"><i class="fa fa-check"></i><b>37</b> Data science ethics</a></li>
<li class="chapter" data-level="38" data-path="d-plot-in-r.html"><a href="d-plot-in-r.html"><i class="fa fa-check"></i><b>38</b> 3D plot in R</a><ul>
<li class="chapter" data-level="38.1" data-path="d-plot-in-r.html"><a href="d-plot-in-r.html#introduction-2"><i class="fa fa-check"></i><b>38.1</b> Introduction</a></li>
<li class="chapter" data-level="38.2" data-path="d-plot-in-r.html"><a href="d-plot-in-r.html#static-3d-plots"><i class="fa fa-check"></i><b>38.2</b> Static 3D Plots</a><ul>
<li class="chapter" data-level="38.2.1" data-path="d-plot-in-r.html"><a href="d-plot-in-r.html#d-scatterplot"><i class="fa fa-check"></i><b>38.2.1</b> 3D scatterplot</a></li>
<li class="chapter" data-level="38.2.2" data-path="d-plot-in-r.html"><a href="d-plot-in-r.html#d-texts"><i class="fa fa-check"></i><b>38.2.2</b> 3D texts</a></li>
<li class="chapter" data-level="38.2.3" data-path="d-plot-in-r.html"><a href="d-plot-in-r.html#d-histogram"><i class="fa fa-check"></i><b>38.2.3</b> 3D Histogram</a></li>
</ul></li>
<li class="chapter" data-level="38.3" data-path="d-plot-in-r.html"><a href="d-plot-in-r.html#interactive-3d-plots"><i class="fa fa-check"></i><b>38.3</b> Interactive 3D Plots</a><ul>
<li class="chapter" data-level="38.3.1" data-path="d-plot-in-r.html"><a href="d-plot-in-r.html#rgl-library"><i class="fa fa-check"></i><b>38.3.1</b> rgl library</a></li>
<li class="chapter" data-level="38.3.2" data-path="d-plot-in-r.html"><a href="d-plot-in-r.html#plotly-library"><i class="fa fa-check"></i><b>38.3.2</b> plotly library</a></li>
</ul></li>
<li class="chapter" data-level="38.4" data-path="d-plot-in-r.html"><a href="d-plot-in-r.html#conclusion-1"><i class="fa fa-check"></i><b>38.4</b> Conclusion</a></li>
<li class="chapter" data-level="38.5" data-path="d-plot-in-r.html"><a href="d-plot-in-r.html#works-cited"><i class="fa fa-check"></i><b>38.5</b> Works Cited</a></li>
</ul></li>
<li class="chapter" data-level="39" data-path="ben-shneidermans-visualization-mantra.html"><a href="ben-shneidermans-visualization-mantra.html"><i class="fa fa-check"></i><b>39</b> Ben Shneiderman’s Visualization Mantra</a><ul>
<li class="chapter" data-level="39.1" data-path="ben-shneidermans-visualization-mantra.html"><a href="ben-shneidermans-visualization-mantra.html#introduction-3"><i class="fa fa-check"></i><b>39.1</b> Introduction:</a></li>
<li class="chapter" data-level="39.2" data-path="ben-shneidermans-visualization-mantra.html"><a href="ben-shneidermans-visualization-mantra.html#need-for-visualization"><i class="fa fa-check"></i><b>39.2</b> Need for Visualization:</a></li>
<li class="chapter" data-level="39.3" data-path="ben-shneidermans-visualization-mantra.html"><a href="ben-shneidermans-visualization-mantra.html#ben-shneidermans-visual-information-seeking-mantra"><i class="fa fa-check"></i><b>39.3</b> Ben Shneiderman’s Visual Information Seeking Mantra</a><ul>
<li class="chapter" data-level="39.3.1" data-path="ben-shneidermans-visualization-mantra.html"><a href="ben-shneidermans-visualization-mantra.html#step-1--overview"><i class="fa fa-check"></i><b>39.3.1</b> Step 1-&gt; Overview:</a></li>
<li class="chapter" data-level="39.3.2" data-path="ben-shneidermans-visualization-mantra.html"><a href="ben-shneidermans-visualization-mantra.html#step-2and-3---zoom-and-filter"><i class="fa fa-check"></i><b>39.3.2</b> Step 2(and 3) -&gt; Zoom and Filter:</a></li>
<li class="chapter" data-level="39.3.3" data-path="ben-shneidermans-visualization-mantra.html"><a href="ben-shneidermans-visualization-mantra.html#step-4---details-on-demand"><i class="fa fa-check"></i><b>39.3.3</b> Step 4 -&gt; Details On Demand</a></li>
<li class="chapter" data-level="39.3.4" data-path="ben-shneidermans-visualization-mantra.html"><a href="ben-shneidermans-visualization-mantra.html#step-5---relate"><i class="fa fa-check"></i><b>39.3.4</b> Step 5 -&gt; Relate</a></li>
<li class="chapter" data-level="39.3.5" data-path="ben-shneidermans-visualization-mantra.html"><a href="ben-shneidermans-visualization-mantra.html#step-6---history"><i class="fa fa-check"></i><b>39.3.5</b> Step 6 -&gt; History</a></li>
<li class="chapter" data-level="39.3.6" data-path="ben-shneidermans-visualization-mantra.html"><a href="ben-shneidermans-visualization-mantra.html#step-7---extract"><i class="fa fa-check"></i><b>39.3.6</b> Step 7 -&gt; Extract</a></li>
</ul></li>
<li class="chapter" data-level="39.4" data-path="ben-shneidermans-visualization-mantra.html"><a href="ben-shneidermans-visualization-mantra.html#references-1"><i class="fa fa-check"></i><b>39.4</b> References:</a></li>
</ul></li>
<li class="chapter" data-level="40" data-path="choose-your-adventure-how-to-choose-the-right-visualization-for-your-data.html"><a href="choose-your-adventure-how-to-choose-the-right-visualization-for-your-data.html"><i class="fa fa-check"></i><b>40</b> Choose Your Adventure - How to choose the right visualization for your data</a><ul>
<li class="chapter" data-level="40.1" data-path="choose-your-adventure-how-to-choose-the-right-visualization-for-your-data.html"><a href="choose-your-adventure-how-to-choose-the-right-visualization-for-your-data.html#introduction-4"><i class="fa fa-check"></i><b>40.1</b> Introduction</a><ul>
<li class="chapter" data-level="40.1.1" data-path="choose-your-adventure-how-to-choose-the-right-visualization-for-your-data.html"><a href="choose-your-adventure-how-to-choose-the-right-visualization-for-your-data.html#step-1.-what-would-you-like-to-show"><i class="fa fa-check"></i><b>40.1.1</b> Step 1. What would you like to show?</a></li>
<li class="chapter" data-level="40.1.2" data-path="choose-your-adventure-how-to-choose-the-right-visualization-for-your-data.html"><a href="choose-your-adventure-how-to-choose-the-right-visualization-for-your-data.html#step-2"><i class="fa fa-check"></i><b>40.1.2</b> Step 2</a></li>
<li class="chapter" data-level="40.1.3" data-path="choose-your-adventure-how-to-choose-the-right-visualization-for-your-data.html"><a href="choose-your-adventure-how-to-choose-the-right-visualization-for-your-data.html#step-3"><i class="fa fa-check"></i><b>40.1.3</b> Step 3</a></li>
</ul></li>
<li class="chapter" data-level="40.2" data-path="choose-your-adventure-how-to-choose-the-right-visualization-for-your-data.html"><a href="choose-your-adventure-how-to-choose-the-right-visualization-for-your-data.html#the-flow-chart"><i class="fa fa-check"></i><b>40.2</b> The Flow Chart</a></li>
<li class="chapter" data-level="40.3" data-path="choose-your-adventure-how-to-choose-the-right-visualization-for-your-data.html"><a href="choose-your-adventure-how-to-choose-the-right-visualization-for-your-data.html#an-example-use-case"><i class="fa fa-check"></i><b>40.3</b> An Example Use Case</a></li>
<li class="chapter" data-level="40.4" data-path="choose-your-adventure-how-to-choose-the-right-visualization-for-your-data.html"><a href="choose-your-adventure-how-to-choose-the-right-visualization-for-your-data.html#conclusion-2"><i class="fa fa-check"></i><b>40.4</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="41" data-path="common-errors-in-r.html"><a href="common-errors-in-r.html"><i class="fa fa-check"></i><b>41</b> Common Errors in R</a><ul>
<li class="chapter" data-level="41.1" data-path="common-errors-in-r.html"><a href="common-errors-in-r.html#could-not-find-function"><i class="fa fa-check"></i><b>41.1</b> could not find function</a></li>
<li class="chapter" data-level="41.2" data-path="common-errors-in-r.html"><a href="common-errors-in-r.html#error-in-if"><i class="fa fa-check"></i><b>41.2</b> Error in if</a></li>
<li class="chapter" data-level="41.3" data-path="common-errors-in-r.html"><a href="common-errors-in-r.html#object-not-found"><i class="fa fa-check"></i><b>41.3</b> Object not found</a></li>
<li class="chapter" data-level="41.4" data-path="common-errors-in-r.html"><a href="common-errors-in-r.html#unexpected"><i class="fa fa-check"></i><b>41.4</b> unexpected …</a></li>
<li class="chapter" data-level="41.5" data-path="common-errors-in-r.html"><a href="common-errors-in-r.html#condition-has-length-1"><i class="fa fa-check"></i><b>41.5</b> condition has length &gt; 1</a></li>
<li class="chapter" data-level="41.6" data-path="common-errors-in-r.html"><a href="common-errors-in-r.html#operator-is-invalid-for-atomic-vectors"><i class="fa fa-check"></i><b>41.6</b> $ operator is invalid for atomic vectors</a></li>
<li class="chapter" data-level="41.7" data-path="common-errors-in-r.html"><a href="common-errors-in-r.html#argument-is-of-length-zero"><i class="fa fa-check"></i><b>41.7</b> argument is of length zero</a></li>
<li class="chapter" data-level="41.8" data-path="common-errors-in-r.html"><a href="common-errors-in-r.html#unimplemented-type-list"><i class="fa fa-check"></i><b>41.8</b> unimplemented type ‘list’</a></li>
<li class="chapter" data-level="41.9" data-path="common-errors-in-r.html"><a href="common-errors-in-r.html#undefined-columns-selected"><i class="fa fa-check"></i><b>41.9</b> undefined columns selected</a></li>
<li class="chapter" data-level="41.10" data-path="common-errors-in-r.html"><a href="common-errors-in-r.html#replacement-has-length-zero"><i class="fa fa-check"></i><b>41.10</b> replacement has length zero</a></li>
<li class="chapter" data-level="41.11" data-path="common-errors-in-r.html"><a href="common-errors-in-r.html#replacement-has-10-rows-data-has-5"><i class="fa fa-check"></i><b>41.11</b> replacement has 10 rows, data has 5</a></li>
<li class="chapter" data-level="41.12" data-path="common-errors-in-r.html"><a href="common-errors-in-r.html#by-must-specify-a-uniquely-valid-column"><i class="fa fa-check"></i><b>41.12</b> ‘by’ must specify a uniquely valid column</a></li>
<li class="chapter" data-level="41.13" data-path="common-errors-in-r.html"><a href="common-errors-in-r.html#incorrect-number-of-subscripts-on-matrix"><i class="fa fa-check"></i><b>41.13</b> incorrect number of subscripts on matrix</a></li>
<li class="chapter" data-level="41.14" data-path="common-errors-in-r.html"><a href="common-errors-in-r.html#subscript-out-of-bounds"><i class="fa fa-check"></i><b>41.14</b> subscript out of bounds</a></li>
<li class="chapter" data-level="41.15" data-path="common-errors-in-r.html"><a href="common-errors-in-r.html#cannot-open-the-connection"><i class="fa fa-check"></i><b>41.15</b> cannot open the connection</a></li>
<li class="chapter" data-level="41.16" data-path="common-errors-in-r.html"><a href="common-errors-in-r.html#non-numeric-argument-to-binary-operator"><i class="fa fa-check"></i><b>41.16</b> non-numeric argument to binary operator</a></li>
<li class="chapter" data-level="41.17" data-path="common-errors-in-r.html"><a href="common-errors-in-r.html#need-finite-xlim-values"><i class="fa fa-check"></i><b>41.17</b> need finite ‘xlim’ values</a></li>
<li class="chapter" data-level="41.18" data-path="common-errors-in-r.html"><a href="common-errors-in-r.html#unused-argument"><i class="fa fa-check"></i><b>41.18</b> unused argument</a></li>
<li class="chapter" data-level="41.19" data-path="common-errors-in-r.html"><a href="common-errors-in-r.html#tips-for-debugging"><i class="fa fa-check"></i><b>41.19</b> Tips for Debugging</a></li>
<li class="chapter" data-level="41.20" data-path="common-errors-in-r.html"><a href="common-errors-in-r.html#references-2"><i class="fa fa-check"></i><b>41.20</b> References</a></li>
</ul></li>
<li class="chapter" data-level="42" data-path="collaborating-on-rstudio-with-github.html"><a href="collaborating-on-rstudio-with-github.html"><i class="fa fa-check"></i><b>42</b> Collaborating on RStudio with GitHub</a><ul>
<li class="chapter" data-level="42.1" data-path="collaborating-on-rstudio-with-github.html"><a href="collaborating-on-rstudio-with-github.html#objective"><i class="fa fa-check"></i><b>42.1</b> Objective</a></li>
<li class="chapter" data-level="42.2" data-path="collaborating-on-rstudio-with-github.html"><a href="collaborating-on-rstudio-with-github.html#what-is-git"><i class="fa fa-check"></i><b>42.2</b> What is Git?</a></li>
<li class="chapter" data-level="42.3" data-path="collaborating-on-rstudio-with-github.html"><a href="collaborating-on-rstudio-with-github.html#collaborating-on-github"><i class="fa fa-check"></i><b>42.3</b> Collaborating on GitHub</a><ul>
<li class="chapter" data-level="42.3.1" data-path="collaborating-on-rstudio-with-github.html"><a href="collaborating-on-rstudio-with-github.html#create-a-repository"><i class="fa fa-check"></i><b>42.3.1</b> Create a repository</a></li>
<li class="chapter" data-level="42.3.2" data-path="collaborating-on-rstudio-with-github.html"><a href="collaborating-on-rstudio-with-github.html#branching"><i class="fa fa-check"></i><b>42.3.2</b> Branching</a></li>
<li class="chapter" data-level="42.3.3" data-path="collaborating-on-rstudio-with-github.html"><a href="collaborating-on-rstudio-with-github.html#add-collaborators"><i class="fa fa-check"></i><b>42.3.3</b> Add Collaborators</a></li>
<li class="chapter" data-level="42.3.4" data-path="collaborating-on-rstudio-with-github.html"><a href="collaborating-on-rstudio-with-github.html#tracking-changes-on-github"><i class="fa fa-check"></i><b>42.3.4</b> Tracking changes on GitHub</a></li>
<li class="chapter" data-level="42.3.5" data-path="collaborating-on-rstudio-with-github.html"><a href="collaborating-on-rstudio-with-github.html#blame"><i class="fa fa-check"></i><b>42.3.5</b> Blame</a></li>
<li class="chapter" data-level="42.3.6" data-path="collaborating-on-rstudio-with-github.html"><a href="collaborating-on-rstudio-with-github.html#issues"><i class="fa fa-check"></i><b>42.3.6</b> Issues</a></li>
</ul></li>
<li class="chapter" data-level="42.4" data-path="collaborating-on-rstudio-with-github.html"><a href="collaborating-on-rstudio-with-github.html#getting-started-with-git-on-rstudio"><i class="fa fa-check"></i><b>42.4</b> Getting started with Git on RStudio</a><ul>
<li class="chapter" data-level="42.4.1" data-path="collaborating-on-rstudio-with-github.html"><a href="collaborating-on-rstudio-with-github.html#cloning-a-repository-to-a-new-project"><i class="fa fa-check"></i><b>42.4.1</b> Cloning a repository to a new project</a></li>
<li class="chapter" data-level="42.4.2" data-path="collaborating-on-rstudio-with-github.html"><a href="collaborating-on-rstudio-with-github.html#cloning-a-repository-set-up-by-someone-else"><i class="fa fa-check"></i><b>42.4.2</b> Cloning a repository set up by someone else</a></li>
<li class="chapter" data-level="42.4.3" data-path="collaborating-on-rstudio-with-github.html"><a href="collaborating-on-rstudio-with-github.html#overview-of-git-panel"><i class="fa fa-check"></i><b>42.4.3</b> Overview of Git panel</a></li>
</ul></li>
<li class="chapter" data-level="42.5" data-path="collaborating-on-rstudio-with-github.html"><a href="collaborating-on-rstudio-with-github.html#merging-conflicts"><i class="fa fa-check"></i><b>42.5</b> Merging Conflicts</a></li>
</ul></li>
<li class="chapter" data-level="43" data-path="math-finance-in-r.html"><a href="math-finance-in-r.html"><i class="fa fa-check"></i><b>43</b> Math Finance in R</a><ul>
<li class="chapter" data-level="43.1" data-path="math-finance-in-r.html"><a href="math-finance-in-r.html#introduction-5"><i class="fa fa-check"></i><b>43.1</b> Introduction</a></li>
<li class="chapter" data-level="43.2" data-path="math-finance-in-r.html"><a href="math-finance-in-r.html#data-preparation"><i class="fa fa-check"></i><b>43.2</b> Data Preparation</a></li>
<li class="chapter" data-level="43.3" data-path="math-finance-in-r.html"><a href="math-finance-in-r.html#empirical-coveriance-matrix"><i class="fa fa-check"></i><b>43.3</b> Empirical coveriance matrix</a></li>
<li class="chapter" data-level="43.4" data-path="math-finance-in-r.html"><a href="math-finance-in-r.html#find-efficient-portfolios-using-meanvariance-analysis"><i class="fa fa-check"></i><b>43.4</b> Find efficient portfolios using mean/variance analysis</a></li>
<li class="chapter" data-level="43.5" data-path="math-finance-in-r.html"><a href="math-finance-in-r.html#select-a-set-of-ticker"><i class="fa fa-check"></i><b>43.5</b> Select a set of ticker</a></li>
<li class="chapter" data-level="43.6" data-path="math-finance-in-r.html"><a href="math-finance-in-r.html#visualization-of-minimum-variance-portforlio"><i class="fa fa-check"></i><b>43.6</b> Visualization of Minimum Variance Portforlio</a></li>
</ul></li>
<li class="chapter" data-level="44" data-path="introduction-to-topology-data-analysis.html"><a href="introduction-to-topology-data-analysis.html"><i class="fa fa-check"></i><b>44</b> Introduction to Topology Data Analysis</a></li>
<li class="part"><span><b>IV Topical Discussions</b></span></li>
<li class="chapter" data-level="45" data-path="zoom-session-in-finance-and-data-science.html"><a href="zoom-session-in-finance-and-data-science.html"><i class="fa fa-check"></i><b>45</b> Zoom session in Finance and Data-Science</a></li>
<li class="chapter" data-level="46" data-path="data-science-the-environment-and-sustainability.html"><a href="data-science-the-environment-and-sustainability.html"><i class="fa fa-check"></i><b>46</b> Data science, the environment, and sustainability</a></li>
<li class="chapter" data-level="47" data-path="absentee-ballot-voting-in-2020-presidental-election.html"><a href="absentee-ballot-voting-in-2020-presidental-election.html"><i class="fa fa-check"></i><b>47</b> Absentee ballot voting in 2020 presidental election</a><ul>
<li class="chapter" data-level="47.1" data-path="absentee-ballot-voting-in-2020-presidental-election.html"><a href="absentee-ballot-voting-in-2020-presidental-election.html#background-and-research-idea"><i class="fa fa-check"></i><b>47.1</b> Background and Research Idea</a></li>
<li class="chapter" data-level="47.2" data-path="absentee-ballot-voting-in-2020-presidental-election.html"><a href="absentee-ballot-voting-in-2020-presidental-election.html#analyze-ballot-rejection-data"><i class="fa fa-check"></i><b>47.2</b> Analyze ballot rejection data</a></li>
<li class="chapter" data-level="47.3" data-path="absentee-ballot-voting-in-2020-presidental-election.html"><a href="absentee-ballot-voting-in-2020-presidental-election.html#categorize-16-main-ballot-rejection-reasons"><i class="fa fa-check"></i><b>47.3</b> Categorize 16 main ballot rejection reasons</a></li>
<li class="chapter" data-level="47.4" data-path="absentee-ballot-voting-in-2020-presidental-election.html"><a href="absentee-ballot-voting-in-2020-presidental-election.html#show-participation-rate-and-ballot-non-accepted-rate-on-a-georgia-map"><i class="fa fa-check"></i><b>47.4</b> Show participation rate and ballot non-accepted rate on a Georgia map</a></li>
</ul></li>
<li class="chapter" data-level="48" data-path="final-project-zoom-meetup-sports.html"><a href="final-project-zoom-meetup-sports.html"><i class="fa fa-check"></i><b>48</b> Final project Zoom meetup - sports</a></li>
<li class="chapter" data-level="49" data-path="in-person-fitness-hour.html"><a href="in-person-fitness-hour.html"><i class="fa fa-check"></i><b>49</b> In-Person Fitness Hour</a><ul>
<li class="chapter" data-level="49.1" data-path="in-person-fitness-hour.html"><a href="in-person-fitness-hour.html#piazza-announcement"><i class="fa fa-check"></i><b>49.1</b> Piazza Announcement</a></li>
<li class="chapter" data-level="49.2" data-path="in-person-fitness-hour.html"><a href="in-person-fitness-hour.html#final-event"><i class="fa fa-check"></i><b>49.2</b> Final Event</a><ul>
<li class="chapter" data-level="49.2.1" data-path="in-person-fitness-hour.html"><a href="in-person-fitness-hour.html#jump-rope"><i class="fa fa-check"></i><b>49.2.1</b> Jump Rope</a></li>
<li class="chapter" data-level="49.2.2" data-path="in-person-fitness-hour.html"><a href="in-person-fitness-hour.html#monkey-bars"><i class="fa fa-check"></i><b>49.2.2</b> Monkey Bars</a></li>
<li class="chapter" data-level="49.2.3" data-path="in-person-fitness-hour.html"><a href="in-person-fitness-hour.html#frisbee"><i class="fa fa-check"></i><b>49.2.3</b> Frisbee</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="50" data-path="work-culture-and-time-management.html"><a href="work-culture-and-time-management.html"><i class="fa fa-check"></i><b>50</b> Work culture and time management</a></li>
<li class="chapter" data-level="51" data-path="data-science-for-social-good.html"><a href="data-science-for-social-good.html"><i class="fa fa-check"></i><b>51</b> Data Science for Social Good</a><ul>
<li class="chapter" data-level="51.1" data-path="data-science-for-social-good.html"><a href="data-science-for-social-good.html#r-markdown"><i class="fa fa-check"></i><b>51.1</b> R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="52" data-path="wine-and-wine-tasting.html"><a href="wine-and-wine-tasting.html"><i class="fa fa-check"></i><b>52</b> Wine and wine tasting</a></li>
<li class="chapter" data-level="53" data-path="meet-the-pets-zoom-session.html"><a href="meet-the-pets-zoom-session.html"><i class="fa fa-check"></i><b>53</b> Meet the pets zoom session</a></li>
<li class="part"><span><b>V Appendices</b></span></li>
<li class="chapter" data-level="54" data-path="github-initial-setup.html"><a href="github-initial-setup.html"><i class="fa fa-check"></i><b>54</b> Github initial setup</a><ul>
<li class="chapter" data-level="54.1" data-path="github-initial-setup.html"><a href="github-initial-setup.html#github-actions"><i class="fa fa-check"></i><b>54.1</b> GitHub Actions</a><ul>
<li class="chapter" data-level="54.1.1" data-path="github-initial-setup.html"><a href="github-initial-setup.html#secrets"><i class="fa fa-check"></i><b>54.1.1</b> Secrets</a></li>
<li class="chapter" data-level="54.1.2" data-path="github-initial-setup.html"><a href="github-initial-setup.html#create-a-gh-pages-branch"><i class="fa fa-check"></i><b>54.1.2</b> Create a <code>gh-pages</code> branch:</a></li>
<li class="chapter" data-level="54.1.3" data-path="github-initial-setup.html"><a href="github-initial-setup.html#github-pages-in-repo-settings"><i class="fa fa-check"></i><b>54.1.3</b> GitHub Pages in repo settings</a></li>
</ul></li>
<li class="chapter" data-level="54.2" data-path="github-initial-setup.html"><a href="github-initial-setup.html#description-file"><i class="fa fa-check"></i><b>54.2</b> DESCRIPTION file</a></li>
</ul></li>
<li class="chapter" data-level="55" data-path="tutorial-for-pull-request-mergers.html"><a href="tutorial-for-pull-request-mergers.html"><i class="fa fa-check"></i><b>55</b> Tutorial for pull request mergers</a><ul>
<li class="chapter" data-level="55.1" data-path="tutorial-for-pull-request-mergers.html"><a href="tutorial-for-pull-request-mergers.html#general"><i class="fa fa-check"></i><b>55.1</b> General</a></li>
<li class="chapter" data-level="55.2" data-path="tutorial-for-pull-request-mergers.html"><a href="tutorial-for-pull-request-mergers.html#check-branch"><i class="fa fa-check"></i><b>55.2</b> Check branch</a></li>
<li class="chapter" data-level="55.3" data-path="tutorial-for-pull-request-mergers.html"><a href="tutorial-for-pull-request-mergers.html#examine-files-that-were-added-or-modified"><i class="fa fa-check"></i><b>55.3</b> Examine files that were added or modified</a></li>
<li class="chapter" data-level="55.4" data-path="tutorial-for-pull-request-mergers.html"><a href="tutorial-for-pull-request-mergers.html#check-.rmd-filename"><i class="fa fa-check"></i><b>55.4</b> Check <code>.Rmd</code> filename</a></li>
<li class="chapter" data-level="55.5" data-path="tutorial-for-pull-request-mergers.html"><a href="tutorial-for-pull-request-mergers.html#check-.rmd-file-contents"><i class="fa fa-check"></i><b>55.5</b> Check <code>.Rmd</code> file contents</a></li>
<li class="chapter" data-level="55.6" data-path="tutorial-for-pull-request-mergers.html"><a href="tutorial-for-pull-request-mergers.html#request-changes"><i class="fa fa-check"></i><b>55.6</b> Request changes</a></li>
<li class="chapter" data-level="55.7" data-path="tutorial-for-pull-request-mergers.html"><a href="tutorial-for-pull-request-mergers.html#merge-the-pull-request"><i class="fa fa-check"></i><b>55.7</b> Merge the pull request</a><ul>
<li class="chapter" data-level="55.7.1" data-path="tutorial-for-pull-request-mergers.html"><a href="tutorial-for-pull-request-mergers.html#add-chapter-filename-to-_bookdown.yml-in-prs-branch"><i class="fa fa-check"></i><b>55.7.1</b> Add chapter filename to <code>_bookdown.yml</code> in PR’s <code>branch</code></a></li>
<li class="chapter" data-level="55.7.2" data-path="tutorial-for-pull-request-mergers.html"><a href="tutorial-for-pull-request-mergers.html#pr-leaders-only-add-part-names-to-.rmd-for-every-first-article-in-part"><i class="fa fa-check"></i><b>55.7.2</b> PR Leaders only: Add part names to <code>.Rmd</code> for every first article in part</a></li>
<li class="chapter" data-level="55.7.3" data-path="tutorial-for-pull-request-mergers.html"><a href="tutorial-for-pull-request-mergers.html#merge-pr-and-leave-a-comment"><i class="fa fa-check"></i><b>55.7.3</b> Merge PR and leave a comment</a></li>
<li class="chapter" data-level="55.7.4" data-path="tutorial-for-pull-request-mergers.html"><a href="tutorial-for-pull-request-mergers.html#check-updated-version"><i class="fa fa-check"></i><b>55.7.4</b> Check updated version</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Spring 2021 EDAV Community Contributions</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="math-finance-in-r" class="section level1">
<h1><span class="header-section-number">Chapter 43</span> Math Finance in R</h1>
<p>Zhengyi(Skye) Chen and Shiyue Liu</p>
<div class="sourceCode" id="cb451"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb451-1"><a href="math-finance-in-r.html#cb451-1"></a><span class="kw">library</span>(reshape2)</span>
<span id="cb451-2"><a href="math-finance-in-r.html#cb451-2"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb451-3"><a href="math-finance-in-r.html#cb451-3"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb451-4"><a href="math-finance-in-r.html#cb451-4"></a><span class="kw">library</span>(tidyquant) </span>
<span id="cb451-5"><a href="math-finance-in-r.html#cb451-5"></a><span class="kw">library</span>(plotly) </span>
<span id="cb451-6"><a href="math-finance-in-r.html#cb451-6"></a><span class="kw">library</span>(timetk) </span>
<span id="cb451-7"><a href="math-finance-in-r.html#cb451-7"></a><span class="kw">library</span>(tidyr)</span></code></pre></div>
<div id="introduction-5" class="section level2">
<h2><span class="header-section-number">43.1</span> Introduction</h2>
<p>Mathematical finance is a branch of applied mathematics where people aim at using mathematics to model the behavior of financial markets. Due to the heavy overlap between mathematical finance and computational finance(or to say, financial engineering), financial mathematicians also focus on applications and modeling using stochastic asset models. Financial market produces huge amount of time series data every day, which becomes the base of analysis for many mathematical finance problems.</p>
<p>In this session, we will first show how to use API to download data from Alpha Vantage. Then we use these stock price historical time series data to estimate the expected returns and covariance matrix. After that, we will use these to find an efficient asset allocation using mean/variance analysis.</p>
</div>
<div id="data-preparation" class="section level2">
<h2><span class="header-section-number">43.2</span> Data Preparation</h2>
<p>The time series data comes from <a href="https://www.alphavantage.co/documentation/">Alpha Vantage</a>. To download the data, first we need to register using email address and get an API key. The API key is a string with numbers and letters. After getting the API key, save it.</p>
<div class="sourceCode" id="cb452"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb452-1"><a href="math-finance-in-r.html#cb452-1"></a>APIKey =<span class="st"> &quot;API_KEY&quot;</span>  <span class="co"># Your API key                 </span></span>
<span id="cb452-2"><a href="math-finance-in-r.html#cb452-2"></a>URLbase  =<span class="st"> &#39;https://www.alphavantage.co/query?&#39;</span></span>
<span id="cb452-3"><a href="math-finance-in-r.html#cb452-3"></a>func     =<span class="st"> &#39;TIME_SERIES_DAILY&#39;</span></span></code></pre></div>
<p>Then we need to declare a list of tickers, which includes the company that we are interested in. The ticker is a abbreviation of the company name with a publicly traded stock.</p>
<div class="sourceCode" id="cb453"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb453-1"><a href="math-finance-in-r.html#cb453-1"></a>tickerList =<span class="st"> </span><span class="kw">c</span>( <span class="st">&quot;T&quot;</span>,                <span class="co">#   ATT (phone company)</span></span>
<span id="cb453-2"><a href="math-finance-in-r.html#cb453-2"></a>                <span class="st">&quot;F&quot;</span>,                <span class="co">#   Ford (car company)</span></span>
<span id="cb453-3"><a href="math-finance-in-r.html#cb453-3"></a>                <span class="st">&quot;IBM&quot;</span>,              <span class="co">#   IBM (computers, mostly software)</span></span>
<span id="cb453-4"><a href="math-finance-in-r.html#cb453-4"></a>                <span class="st">&quot;MSFT&quot;</span>,             <span class="co">#   Microsoft (software)</span></span>
<span id="cb453-5"><a href="math-finance-in-r.html#cb453-5"></a>                <span class="st">&quot;BA&quot;</span>,               <span class="co">#   Boeing (planes, civilian and military)</span></span>
<span id="cb453-6"><a href="math-finance-in-r.html#cb453-6"></a>                <span class="st">&quot;GM&quot;</span>,               <span class="co">#   General Motors (cars)</span></span>
<span id="cb453-7"><a href="math-finance-in-r.html#cb453-7"></a>                <span class="st">&quot;AAPL&quot;</span>,             <span class="co">#   Apple (computers, phones, software)</span></span>
<span id="cb453-8"><a href="math-finance-in-r.html#cb453-8"></a>                <span class="st">&quot;GE&quot;</span>,               <span class="co">#   General Electric (jet engines and other things)</span></span>
<span id="cb453-9"><a href="math-finance-in-r.html#cb453-9"></a>                <span class="st">&quot;AMD&quot;</span>,              <span class="co">#   AMD (chips)</span></span>
<span id="cb453-10"><a href="math-finance-in-r.html#cb453-10"></a>                <span class="st">&quot;JPM&quot;</span>,              <span class="co">#   J P Morgan Chase (bank)</span></span>
<span id="cb453-11"><a href="math-finance-in-r.html#cb453-11"></a>                <span class="st">&quot;NVDA&quot;</span>,             <span class="co">#   Nvidia (chips)</span></span>
<span id="cb453-12"><a href="math-finance-in-r.html#cb453-12"></a>                <span class="st">&quot;SPY&quot;</span>)              <span class="co">#   S &amp; P ETF</span></span></code></pre></div>
<p>The following ‘R’ code is to download the time series data of the company in the ‘tickerList’ and save it in separate ‘.csv’ files. It downloads time series daily closing price from <span class="math inline">\(T\)</span> days before up to now. (<a href="https://www.math.nyu.edu/faculty/goodman/teaching/MathFin2019/assignments/PriceDownload.R">citation</a>)</p>
<div class="sourceCode" id="cb454"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb454-1"><a href="math-finance-in-r.html#cb454-1"></a>tickerCount    =<span class="st"> </span><span class="dv">0</span>                  <span class="co">#  how many tickers you&#39;ve received so far.</span></span>
<span id="cb454-2"><a href="math-finance-in-r.html#cb454-2"></a>SeventySeconds =<span class="st"> </span><span class="dv">70</span>                 <span class="co">#  how long to wait every five requests</span></span>
<span id="cb454-3"><a href="math-finance-in-r.html#cb454-3"></a><span class="cf">for</span> ( ticker <span class="cf">in</span> tickerList){</span>
<span id="cb454-4"><a href="math-finance-in-r.html#cb454-4"></a>  </span>
<span id="cb454-5"><a href="math-finance-in-r.html#cb454-5"></a>  tickerCount =<span class="st"> </span>tickerCount <span class="op">+</span><span class="st"> </span><span class="dv">1</span>                        <span class="co"># Get only five per minute</span></span>
<span id="cb454-6"><a href="math-finance-in-r.html#cb454-6"></a>  <span class="cf">if</span> ( ( tickerCount <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span> ) <span class="op">&amp;</span><span class="st"> </span>( (tickerCount  <span class="op">%%</span><span class="st"> </span><span class="dv">5</span>) <span class="op">==</span><span class="st"> </span><span class="dv">1</span> ) ){</span>
<span id="cb454-7"><a href="math-finance-in-r.html#cb454-7"></a>    <span class="kw">cat</span>(<span class="st">&quot;sleeping</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb454-8"><a href="math-finance-in-r.html#cb454-8"></a>    <span class="kw">flush.console</span>()                                  <span class="co"># get the message without waiting</span></span>
<span id="cb454-9"><a href="math-finance-in-r.html#cb454-9"></a>    <span class="kw">Sys.sleep</span>(SeventySeconds)                        <span class="co"># Wait (sleep) a minute</span></span>
<span id="cb454-10"><a href="math-finance-in-r.html#cb454-10"></a>  }</span>
<span id="cb454-11"><a href="math-finance-in-r.html#cb454-11"></a>  </span>
<span id="cb454-12"><a href="math-finance-in-r.html#cb454-12"></a>  URL      =<span class="st"> </span><span class="kw">paste</span>( <span class="kw">c</span>( URLbase,                        <span class="co"># create the request ...</span></span>
<span id="cb454-13"><a href="math-finance-in-r.html#cb454-13"></a>                       <span class="st">&quot;function=&quot;</span>, func,               <span class="co"># ... see documentation for the format.</span></span>
<span id="cb454-14"><a href="math-finance-in-r.html#cb454-14"></a>                       <span class="st">&quot;&amp;symbol=&quot;</span>,  ticker,</span>
<span id="cb454-15"><a href="math-finance-in-r.html#cb454-15"></a>                       <span class="st">&quot;&amp;apikey=&quot;</span>,  APIKey,</span>
<span id="cb454-16"><a href="math-finance-in-r.html#cb454-16"></a>                       <span class="st">&quot;&amp;outputsize=full&quot;</span>,              <span class="co"># get the whole series, not just 100 days</span></span>
<span id="cb454-17"><a href="math-finance-in-r.html#cb454-17"></a>                       <span class="st">&quot;&amp;datatype=csv&quot;</span>), <span class="dt">collapse =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb454-18"><a href="math-finance-in-r.html#cb454-18"></a>  </span>
<span id="cb454-19"><a href="math-finance-in-r.html#cb454-19"></a>  <span class="kw">cat</span>(<span class="st">&quot;Fetching with url &quot;</span>)</span>
<span id="cb454-20"><a href="math-finance-in-r.html#cb454-20"></a>  <span class="kw">cat</span>(URL)</span>
<span id="cb454-21"><a href="math-finance-in-r.html#cb454-21"></a>  <span class="kw">cat</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb454-22"><a href="math-finance-in-r.html#cb454-22"></a>  </span>
<span id="cb454-23"><a href="math-finance-in-r.html#cb454-23"></a>  timeSeriesCSVfile =<span class="st"> </span><span class="kw">read.csv</span>(URL)                   <span class="co"># send the request</span></span>
<span id="cb454-24"><a href="math-finance-in-r.html#cb454-24"></a>  </span>
<span id="cb454-25"><a href="math-finance-in-r.html#cb454-25"></a>  <span class="kw">cat</span>(<span class="st">&quot;Got ticker &quot;</span>)</span>
<span id="cb454-26"><a href="math-finance-in-r.html#cb454-26"></a>  <span class="kw">cat</span>(ticker)</span>
<span id="cb454-27"><a href="math-finance-in-r.html#cb454-27"></a>  <span class="kw">cat</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb454-28"><a href="math-finance-in-r.html#cb454-28"></a></span>
<span id="cb454-29"><a href="math-finance-in-r.html#cb454-29"></a>  </span>
<span id="cb454-30"><a href="math-finance-in-r.html#cb454-30"></a>  csvFileName  =<span class="st"> </span><span class="kw">paste</span>( <span class="kw">c</span>(<span class="st">&quot;StockPriceTimeSeries_&quot;</span>, ticker, <span class="st">&quot;.csv&quot;</span>), <span class="dt">collapse =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb454-31"><a href="math-finance-in-r.html#cb454-31"></a>  </span>
<span id="cb454-32"><a href="math-finance-in-r.html#cb454-32"></a>  <span class="kw">write.csv</span>( timeSeriesCSVfile, <span class="dt">file =</span> csvFileName)</span>
<span id="cb454-33"><a href="math-finance-in-r.html#cb454-33"></a>}</span></code></pre></div>
<p>Note that ‘Alpha Vantage’ has a restriction of fetching five tickers every minute, hence the code sleeps for 70 seconds between five downloading activities. Hence, we suggest to run this part separately and save the downloaded file to save time.</p>
</div>
<div id="empirical-coveriance-matrix" class="section level2">
<h2><span class="header-section-number">43.3</span> Empirical coveriance matrix</h2>
<p>After getting the data, we want to read the data from the csv files and use them to compute the empicical covariance matrix for the same period of time.</p>
<p>First, we introduce the mathematical formulation:</p>
<p>Denote <span class="math inline">\(R_{t,k}\)</span> as the actual daily return for asset <span class="math inline">\(k\)</span> at time <span class="math inline">\(t\)</span>, <span class="math inline">\(\mu_k\)</span> as the empirical mean daily return for asset <span class="math inline">\(k\)</span>, <span class="math inline">\(C\)</span> is <span class="math inline">\(n*n\)</span> symmetric matrix as the empirical covariance matrix, <span class="math inline">\(\sigma_{j,k}\)</span> as the <span class="math inline">\(j,k\)</span> element of matrix <span class="math inline">\(C\)</span>.</p>
<p>Now, we read the data from csv files:</p>
<div class="sourceCode" id="cb455"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb455-1"><a href="math-finance-in-r.html#cb455-1"></a>tickerList =<span class="st"> </span><span class="kw">c</span>( <span class="st">&quot;T&quot;</span>,                <span class="co">#   ATT (phone company)</span></span>
<span id="cb455-2"><a href="math-finance-in-r.html#cb455-2"></a>                <span class="st">&quot;F&quot;</span>,                <span class="co">#   Ford (cars)</span></span>
<span id="cb455-3"><a href="math-finance-in-r.html#cb455-3"></a>                <span class="st">&quot;IBM&quot;</span>,              <span class="co">#   IBM (computers, mostly software)</span></span>
<span id="cb455-4"><a href="math-finance-in-r.html#cb455-4"></a>                <span class="st">&quot;MSFT&quot;</span>,             <span class="co">#   Microsoft (software)</span></span>
<span id="cb455-5"><a href="math-finance-in-r.html#cb455-5"></a>                <span class="st">&quot;BA&quot;</span>,               <span class="co">#   Boeing (planes, aerospace)</span></span>
<span id="cb455-6"><a href="math-finance-in-r.html#cb455-6"></a>                <span class="st">&quot;GM&quot;</span>,               <span class="co">#   General Motors (cars)</span></span>
<span id="cb455-7"><a href="math-finance-in-r.html#cb455-7"></a>                <span class="st">&quot;AAPL&quot;</span>,             <span class="co">#   Apple (computers, phones, software)</span></span>
<span id="cb455-8"><a href="math-finance-in-r.html#cb455-8"></a>                <span class="st">&quot;GE&quot;</span>,               <span class="co">#   General Electric (jet engines, other things)</span></span>
<span id="cb455-9"><a href="math-finance-in-r.html#cb455-9"></a>                <span class="st">&quot;AMD&quot;</span>,              <span class="co">#   AMD (chips)</span></span>
<span id="cb455-10"><a href="math-finance-in-r.html#cb455-10"></a>                <span class="st">&quot;JPM&quot;</span>,              <span class="co">#   J P Morgan Chase (bank)</span></span>
<span id="cb455-11"><a href="math-finance-in-r.html#cb455-11"></a>                <span class="st">&quot;NVDA&quot;</span>,             <span class="co">#   Nvidia (chips)</span></span>
<span id="cb455-12"><a href="math-finance-in-r.html#cb455-12"></a>                <span class="st">&quot;SPY&quot;</span>)              <span class="co">#   S &amp; P index ETF</span></span>
<span id="cb455-13"><a href="math-finance-in-r.html#cb455-13"></a></span>
<span id="cb455-14"><a href="math-finance-in-r.html#cb455-14"></a><span class="co">#        Read historical time series from .csv files in this directory</span></span>
<span id="cb455-15"><a href="math-finance-in-r.html#cb455-15"></a></span>
<span id="cb455-16"><a href="math-finance-in-r.html#cb455-16"></a>T =<span class="st"> </span><span class="dv">250</span>                   <span class="co"># number of days of historical data to use</span></span>
<span id="cb455-17"><a href="math-finance-in-r.html#cb455-17"></a>n =<span class="st"> </span><span class="kw">length</span>(tickerList)    <span class="co"># number of assets</span></span>
<span id="cb455-18"><a href="math-finance-in-r.html#cb455-18"></a></span>
<span id="cb455-19"><a href="math-finance-in-r.html#cb455-19"></a><span class="co">#  prices[t,k] = closing price on day t (counting back from today) of asset k</span></span>
<span id="cb455-20"><a href="math-finance-in-r.html#cb455-20"></a></span>
<span id="cb455-21"><a href="math-finance-in-r.html#cb455-21"></a>prices =<span class="st"> </span><span class="kw">matrix</span>( <span class="dt">nrow =</span> T, <span class="dt">ncol =</span> n)     <span class="co"># allocate memory for the matrix</span></span>
<span id="cb455-22"><a href="math-finance-in-r.html#cb455-22"></a></span>
<span id="cb455-23"><a href="math-finance-in-r.html#cb455-23"></a><span class="cf">for</span> ( k <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>n){                    <span class="co">#  iterate over k, not the ticker name</span></span>
<span id="cb455-24"><a href="math-finance-in-r.html#cb455-24"></a>  ticker =<span class="st"> </span>tickerList[k]          <span class="co">#  get the corresponding ticker name</span></span>
<span id="cb455-25"><a href="math-finance-in-r.html#cb455-25"></a>  </span>
<span id="cb455-26"><a href="math-finance-in-r.html#cb455-26"></a>  fileName =<span class="st"> </span><span class="kw">paste</span>( <span class="kw">c</span>( <span class="st">&quot;https://raw.githubusercontent.com/ConnieeeeeLIU/EDAV/main/StockPriceTimeSeries_&quot;</span>,  <span class="co"># Every series starts like this</span></span>
<span id="cb455-27"><a href="math-finance-in-r.html#cb455-27"></a>                       ticker,                  <span class="co">#</span></span>
<span id="cb455-28"><a href="math-finance-in-r.html#cb455-28"></a>                       <span class="st">&quot;.csv&quot;</span>),                  <span class="co"># a .csv file</span></span>
<span id="cb455-29"><a href="math-finance-in-r.html#cb455-29"></a>                    <span class="dt">collapse =</span> <span class="st">&quot;&quot;</span>)            <span class="co"># no blanks between the parts</span></span>
<span id="cb455-30"><a href="math-finance-in-r.html#cb455-30"></a></span>
<span id="cb455-31"><a href="math-finance-in-r.html#cb455-31"></a>  CSVfile =<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>( fileName )</span>
<span id="cb455-32"><a href="math-finance-in-r.html#cb455-32"></a>  closingPriceSeries =<span class="st"> </span>CSVfile[[<span class="st">&quot;close&quot;</span>]]        <span class="co"># The column under &quot;close&quot;...</span></span>
<span id="cb455-33"><a href="math-finance-in-r.html#cb455-33"></a>  <span class="co"># ... holds the closing prices</span></span>
<span id="cb455-34"><a href="math-finance-in-r.html#cb455-34"></a>  <span class="cf">for</span> ( t <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>T){                               <span class="co"># Copy from the &quot;data frame&quot;...</span></span>
<span id="cb455-35"><a href="math-finance-in-r.html#cb455-35"></a>    prices[ t, k] =<span class="st"> </span>closingPriceSeries[t]      <span class="co"># ... to the matrix</span></span>
<span id="cb455-36"><a href="math-finance-in-r.html#cb455-36"></a>  }</span>
<span id="cb455-37"><a href="math-finance-in-r.html#cb455-37"></a>}</span></code></pre></div>
<p>Let’s first take a look at our data, we choose four companies here:</p>
<ol style="list-style-type: decimal">
<li><p>ATT (phone company)</p></li>
<li><p>Ford (cars)</p></li>
<li><p>IBM (computers, mostly software)</p></li>
<li><p>Microsoft (software)</p></li>
</ol>
<p>The plot below is the closing price of these four companies in the past 250 days:</p>
<div class="sourceCode" id="cb456"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb456-1"><a href="math-finance-in-r.html#cb456-1"></a><span class="kw">colnames</span>(prices) =<span class="st"> </span>tickerList</span>
<span id="cb456-2"><a href="math-finance-in-r.html#cb456-2"></a>day =<span class="st"> </span><span class="kw">as.Date</span>(<span class="st">&quot;2021-03-04&quot;</span>) <span class="op">-</span><span class="st"> </span><span class="dv">0</span><span class="op">:</span><span class="dv">249</span>  <span class="co"># add the days of our data</span></span>
<span id="cb456-3"><a href="math-finance-in-r.html#cb456-3"></a>df_price =<span class="st"> </span><span class="kw">data.frame</span>(day, prices)</span>
<span id="cb456-4"><a href="math-finance-in-r.html#cb456-4"></a>sub_df_price =<span class="st"> </span>df_price[<span class="kw">c</span>(<span class="st">&#39;day&#39;</span>, <span class="st">&#39;T&#39;</span>, <span class="st">&#39;F&#39;</span>, <span class="st">&#39;IBM&#39;</span>, <span class="st">&#39;MSFT&#39;</span>)] <span class="co"># choose a subsample to show time serise, </span></span>
<span id="cb456-5"><a href="math-finance-in-r.html#cb456-5"></a>                                                            <span class="co"># if all 12 is shown, it would be messy</span></span>
<span id="cb456-6"><a href="math-finance-in-r.html#cb456-6"></a>sub_df_price &lt;-<span class="st"> </span><span class="kw">melt</span>(sub_df_price, <span class="dt">id=</span><span class="st">&quot;day&quot;</span>)</span>
<span id="cb456-7"><a href="math-finance-in-r.html#cb456-7"></a><span class="kw">colnames</span>(sub_df_price) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;day&quot;</span>, <span class="st">&quot;ticker&quot;</span>, <span class="st">&quot;price&quot;</span>)</span>
<span id="cb456-8"><a href="math-finance-in-r.html#cb456-8"></a></span>
<span id="cb456-9"><a href="math-finance-in-r.html#cb456-9"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> sub_df_price,<span class="kw">aes</span>(<span class="dt">x=</span>day, <span class="dt">y=</span>price, <span class="dt">group=</span>ticker, <span class="dt">color=</span>ticker))<span class="op">+</span></span>
<span id="cb456-10"><a href="math-finance-in-r.html#cb456-10"></a><span class="st">  </span><span class="kw">geom_line</span>()<span class="op">+</span></span>
<span id="cb456-11"><a href="math-finance-in-r.html#cb456-11"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Day&quot;</span>)<span class="op">+</span></span>
<span id="cb456-12"><a href="math-finance-in-r.html#cb456-12"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Price&quot;</span>)<span class="op">+</span></span>
<span id="cb456-13"><a href="math-finance-in-r.html#cb456-13"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Closing price of four companies&quot;</span>)</span></code></pre></div>
<p><img src="math_finance_in_r_files/figure-html/unnamed-chunk-6-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>We can also use histograms to get a sense of distribution of different stocks:</p>
<div class="sourceCode" id="cb457"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb457-1"><a href="math-finance-in-r.html#cb457-1"></a>df_price[<span class="kw">c</span>(<span class="st">&#39;day&#39;</span>, <span class="st">&#39;MSFT&#39;</span>)] <span class="op">%&gt;%</span></span>
<span id="cb457-2"><a href="math-finance-in-r.html#cb457-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(MSFT)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb457-3"><a href="math-finance-in-r.html#cb457-3"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">color=</span><span class="st">&#39;black&#39;</span>, <span class="dt">fill=</span><span class="st">&#39;grey&#39;</span>, <span class="dt">bins=</span><span class="dv">20</span>) <span class="op">+</span></span>
<span id="cb457-4"><a href="math-finance-in-r.html#cb457-4"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Distribution of ticker of Microsoft&quot;</span>)</span></code></pre></div>
<p><img src="math_finance_in_r_files/figure-html/unnamed-chunk-7-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb458"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb458-1"><a href="math-finance-in-r.html#cb458-1"></a>df_price[<span class="kw">c</span>(<span class="st">&#39;day&#39;</span>, <span class="st">&#39;T&#39;</span>)] <span class="op">%&gt;%</span></span>
<span id="cb458-2"><a href="math-finance-in-r.html#cb458-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(T)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb458-3"><a href="math-finance-in-r.html#cb458-3"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">color=</span><span class="st">&#39;black&#39;</span>, <span class="dt">fill=</span><span class="st">&#39;grey&#39;</span>, <span class="dt">bins=</span><span class="dv">20</span>) <span class="op">+</span></span>
<span id="cb458-4"><a href="math-finance-in-r.html#cb458-4"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Distribution of ticker of ATT&quot;</span>)</span></code></pre></div>
<p><img src="math_finance_in_r_files/figure-html/unnamed-chunk-8-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Wow! we can tell how much more valuable Microsoft is than ATT here!</p>
<p>We can also use overlapped density distribution to better compare different companies!</p>
<div class="sourceCode" id="cb459"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb459-1"><a href="math-finance-in-r.html#cb459-1"></a>sub_df_price<span class="op">%&gt;%</span></span>
<span id="cb459-2"><a href="math-finance-in-r.html#cb459-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>price, <span class="dt">fill=</span>ticker)) <span class="op">+</span></span>
<span id="cb459-3"><a href="math-finance-in-r.html#cb459-3"></a><span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">alpha=</span><span class="fl">0.2</span>) <span class="op">+</span></span>
<span id="cb459-4"><a href="math-finance-in-r.html#cb459-4"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Overlapped Density Distribution of Four Stocks&quot;</span>)</span></code></pre></div>
<p><img src="math_finance_in_r_files/figure-html/unnamed-chunk-9-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Now let’s start the math part in R!</p>
<p>Calculate the daily returns, the mean return, and the empirical covariance:</p>
<div class="sourceCode" id="cb460"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb460-1"><a href="math-finance-in-r.html#cb460-1"></a>returns =<span class="st"> </span><span class="kw">matrix</span>( <span class="dt">nrow =</span> (T<span class="dv">-1</span>), <span class="dt">ncol =</span> n)</span>
<span id="cb460-2"><a href="math-finance-in-r.html#cb460-2"></a><span class="cf">for</span> ( t <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>(T<span class="dv">-1</span>)){</span>
<span id="cb460-3"><a href="math-finance-in-r.html#cb460-3"></a>  <span class="cf">for</span> ( k <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>n){</span>
<span id="cb460-4"><a href="math-finance-in-r.html#cb460-4"></a>    returns[ t, k] =<span class="st"> </span>( prices[ t<span class="op">+</span><span class="dv">1</span>, k] <span class="op">-</span><span class="st"> </span>prices[ t,k ])<span class="op">/</span>prices[ t, k]</span>
<span id="cb460-5"><a href="math-finance-in-r.html#cb460-5"></a>  }</span>
<span id="cb460-6"><a href="math-finance-in-r.html#cb460-6"></a>}</span>
<span id="cb460-7"><a href="math-finance-in-r.html#cb460-7"></a></span>
<span id="cb460-8"><a href="math-finance-in-r.html#cb460-8"></a>mu =<span class="st"> </span><span class="kw">matrix</span>( <span class="dv">0</span>, <span class="dt">ncol =</span> <span class="dv">1</span>, <span class="dt">nrow =</span> n)         <span class="co"># Column vector of expected returns</span></span>
<span id="cb460-9"><a href="math-finance-in-r.html#cb460-9"></a><span class="co"># initialized to zero so this works:</span></span>
<span id="cb460-10"><a href="math-finance-in-r.html#cb460-10"></a><span class="cf">for</span> ( k <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>n){                            <span class="co"># For asset k ...</span></span>
<span id="cb460-11"><a href="math-finance-in-r.html#cb460-11"></a>  <span class="cf">for</span> ( t <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>(T<span class="dv">-1</span>)){                    <span class="co"># ... add the returns over time</span></span>
<span id="cb460-12"><a href="math-finance-in-r.html#cb460-12"></a>    mu[k] =<span class="st"> </span>mu[k] <span class="op">+</span><span class="st"> </span>returns[t,k]</span>
<span id="cb460-13"><a href="math-finance-in-r.html#cb460-13"></a>  }</span>
<span id="cb460-14"><a href="math-finance-in-r.html#cb460-14"></a>  mu[k] =<span class="st"> </span>mu[k]<span class="op">/</span>(T<span class="dv">-1</span>)                     <span class="co"># Divide by the number of samples ...</span></span>
<span id="cb460-15"><a href="math-finance-in-r.html#cb460-15"></a>}    <span class="co"># ... to get the empirical mean</span></span></code></pre></div>
<p>The empirical mean daily return, <span class="math inline">\(\mu_k\)</span>, is the average daily return over the averaging period, <span class="math inline">\(T\)</span>.
<span class="math display">\[\sigma_{j,k} = \dfrac{1}{T-2} \sum^{T-1}_{t = 1}(R_{j,t}-\mu_j)(R_{k,t}-\mu_k)\]</span>
<span class="math display">\[\sigma_{j,j} = \dfrac{1}{T-2} \sum^{T-1}_{t = 1}(R_{j,t}-\mu_j)^2\]</span>
Note that, here we need to devide by <span class="math inline">\(T-2\)</span> since we have <span class="math inline">\(T\)</span> data points, which gives <span class="math inline">\(T-1\)</span> daily returns, and this results in <span class="math inline">\(T-2\)</span> degrees of freedom.</p>
<div class="sourceCode" id="cb461"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb461-1"><a href="math-finance-in-r.html#cb461-1"></a>C =<span class="st"> </span><span class="kw">matrix</span>( <span class="dv">0</span>, <span class="dt">ncol =</span> n, <span class="dt">nrow =</span> n)</span>
<span id="cb461-2"><a href="math-finance-in-r.html#cb461-2"></a><span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>n){</span>
<span id="cb461-3"><a href="math-finance-in-r.html#cb461-3"></a>  <span class="cf">for</span> (k <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>n){</span>
<span id="cb461-4"><a href="math-finance-in-r.html#cb461-4"></a>    total =<span class="st"> </span><span class="dv">0</span> </span>
<span id="cb461-5"><a href="math-finance-in-r.html#cb461-5"></a>    <span class="cf">for</span> (t <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>(T<span class="dv">-1</span>)){</span>
<span id="cb461-6"><a href="math-finance-in-r.html#cb461-6"></a>      total =<span class="st"> </span>total <span class="op">+</span><span class="st"> </span>(returns[t,j]<span class="op">-</span>mu[j])<span class="op">*</span>(returns[t,k]<span class="op">-</span>mu[k])</span>
<span id="cb461-7"><a href="math-finance-in-r.html#cb461-7"></a>    }</span>
<span id="cb461-8"><a href="math-finance-in-r.html#cb461-8"></a> </span>
<span id="cb461-9"><a href="math-finance-in-r.html#cb461-9"></a>    C[j,k] =<span class="st"> </span>total<span class="op">/</span>(T<span class="dv">-2</span>)</span>
<span id="cb461-10"><a href="math-finance-in-r.html#cb461-10"></a>    </span>
<span id="cb461-11"><a href="math-finance-in-r.html#cb461-11"></a>  }</span>
<span id="cb461-12"><a href="math-finance-in-r.html#cb461-12"></a>}</span></code></pre></div>
</div>
<div id="find-efficient-portfolios-using-meanvariance-analysis" class="section level2">
<h2><span class="header-section-number">43.4</span> Find efficient portfolios using mean/variance analysis</h2>
<p>In this part, we want to find the minimum variance portfolio. After that, we also try to find the efficient portfolio that provides the same expected return as an equal weighted portfolio for comparison.</p>
<div class="sourceCode" id="cb462"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb462-1"><a href="math-finance-in-r.html#cb462-1"></a>one_m =<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span>, <span class="dt">ncol =</span> <span class="dv">1</span>, <span class="dt">nrow =</span> n)</span>
<span id="cb462-2"><a href="math-finance-in-r.html#cb462-2"></a>a =<span class="st"> </span><span class="kw">t</span>(one_m)<span class="op">%*%</span><span class="kw">solve</span>(C)<span class="op">%*%</span>one_m</span>
<span id="cb462-3"><a href="math-finance-in-r.html#cb462-3"></a>b =<span class="st"> </span><span class="kw">t</span>(one_m)<span class="op">%*%</span><span class="kw">solve</span>(C)<span class="op">%*%</span>mu</span>
<span id="cb462-4"><a href="math-finance-in-r.html#cb462-4"></a>c =<span class="st"> </span><span class="kw">t</span>(mu)<span class="op">%*%</span><span class="kw">solve</span>(C)<span class="op">%*%</span>mu</span>
<span id="cb462-5"><a href="math-finance-in-r.html#cb462-5"></a>det_v =<span class="st"> </span>a<span class="op">*</span>c<span class="op">-</span>b<span class="op">^</span><span class="dv">2</span></span>
<span id="cb462-6"><a href="math-finance-in-r.html#cb462-6"></a></span>
<span id="cb462-7"><a href="math-finance-in-r.html#cb462-7"></a>eq_a =<span class="st"> </span>a<span class="op">/</span>det_v</span>
<span id="cb462-8"><a href="math-finance-in-r.html#cb462-8"></a>eq_b =<span class="st"> </span><span class="dv">-2</span><span class="op">*</span>b<span class="op">/</span>det_v</span>
<span id="cb462-9"><a href="math-finance-in-r.html#cb462-9"></a>eq_c =<span class="st"> </span>c<span class="op">/</span>det_v</span>
<span id="cb462-10"><a href="math-finance-in-r.html#cb462-10"></a></span>
<span id="cb462-11"><a href="math-finance-in-r.html#cb462-11"></a>min_var =<span class="st"> </span><span class="op">-</span>(eq_b<span class="op">^</span><span class="dv">2-4</span><span class="op">*</span>eq_a<span class="op">*</span>eq_c)<span class="op">/</span>(<span class="dv">4</span><span class="op">*</span>eq_a)</span>
<span id="cb462-12"><a href="math-finance-in-r.html#cb462-12"></a>mu_min_var =<span class="st"> </span><span class="op">-</span>eq_b<span class="op">/</span>(<span class="dv">2</span><span class="op">*</span>eq_a)</span>
<span id="cb462-13"><a href="math-finance-in-r.html#cb462-13"></a></span>
<span id="cb462-14"><a href="math-finance-in-r.html#cb462-14"></a>lam_<span class="dv">1</span> =<span class="st"> </span>(c<span class="op">-</span>b<span class="op">*</span>mu_min_var)<span class="op">/</span>(det_v)</span>
<span id="cb462-15"><a href="math-finance-in-r.html#cb462-15"></a>lam_<span class="dv">2</span> =<span class="st"> </span>(a<span class="op">*</span>mu_min_var<span class="op">-</span>b)<span class="op">/</span>(det_v)</span>
<span id="cb462-16"><a href="math-finance-in-r.html#cb462-16"></a></span>
<span id="cb462-17"><a href="math-finance-in-r.html#cb462-17"></a>w =<span class="st"> </span>lam_<span class="dv">2</span>[<span class="dv">1</span>,<span class="dv">1</span>]<span class="op">*</span><span class="kw">solve</span>(C)<span class="op">%*%</span>mu <span class="op">+</span><span class="st"> </span>lam_<span class="dv">1</span>[<span class="dv">1</span>,<span class="dv">1</span>]<span class="op">*</span><span class="kw">solve</span>(C)<span class="op">%*%</span>one_m</span></code></pre></div>
<p>If it is an equal weighted portfolio, <span class="math inline">\(w\)</span> would be:</p>
<div class="sourceCode" id="cb463"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb463-1"><a href="math-finance-in-r.html#cb463-1"></a>w_aver =<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span><span class="op">/</span><span class="dv">12</span>, <span class="dt">ncol =</span> <span class="dv">1</span>, <span class="dt">nrow =</span> n)</span>
<span id="cb463-2"><a href="math-finance-in-r.html#cb463-2"></a>var_aver =<span class="st"> </span><span class="kw">t</span>(w_aver)<span class="op">%*%</span>C<span class="op">%*%</span>w_aver</span></code></pre></div>
<p>Let’s have a look at the difference between equal weighted and minimum variance portfolio:</p>
<div class="sourceCode" id="cb464"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb464-1"><a href="math-finance-in-r.html#cb464-1"></a><span class="co">#difference between equal weighted and minimum variance portfolio</span></span>
<span id="cb464-2"><a href="math-finance-in-r.html#cb464-2"></a><span class="kw">cat</span>(<span class="st">&#39;min_Var: &#39;</span>, min_var, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## min_Var:  0.0002455391</code></pre>
<div class="sourceCode" id="cb466"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb466-1"><a href="math-finance-in-r.html#cb466-1"></a><span class="kw">cat</span>(<span class="st">&#39;var_aver: &#39;</span>, var_aver, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## var_aver:  0.0009595658</code></pre>
<div class="sourceCode" id="cb468"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb468-1"><a href="math-finance-in-r.html#cb468-1"></a><span class="kw">cat</span>(<span class="st">&#39;var_aver-min_var: &#39;</span>, var_aver<span class="op">-</span>min_var, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## var_aver-min_var:  0.0007140267</code></pre>
<div class="sourceCode" id="cb470"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb470-1"><a href="math-finance-in-r.html#cb470-1"></a><span class="kw">cat</span>(<span class="st">&#39;var_aver/min_var: &#39;</span>, var_aver<span class="op">/</span>min_var, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## var_aver/min_var:  3.907996</code></pre>
<p>Lets see the weight for the stocks!</p>
<div class="sourceCode" id="cb472"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb472-1"><a href="math-finance-in-r.html#cb472-1"></a>w</span></code></pre></div>
<pre><code>##                [,1]
##  [1,]  0.1427604624
##  [2,]  0.0062456155
##  [3,] -0.1042327822
##  [4,] -0.3373815482
##  [5,] -0.1569301515
##  [6,] -0.0185447255
##  [7,]  0.0008043995
##  [8,] -0.0391292589
##  [9,] -0.0105920351
## [10,] -0.3292557875
## [11,] -0.2766437179
## [12,]  2.1228995294</code></pre>
<p>From above result, we can see that the variance of equal weighted portfolio is about 400% higher than the portfolio with minimum variance! Notice that the weight for the 3, 4, 5, 6, 8, 9, 10, 11 elements are negative!</p>
</div>
<div id="select-a-set-of-ticker" class="section level2">
<h2><span class="header-section-number">43.5</span> Select a set of ticker</h2>
<p>Based on the weight given for the minimum variance portfolio, there are many weights that are negative. In this session, we want to select a set of ticker based on previous information.</p>
<p>Here, we would like to remove the tickers with negative weights. The reason is that when the weight is negative, the asset is easy to but but hard to sell. Hence, the risk is relatively high which is not what we want.</p>
<p>First, only preserve tickers with positive weights:</p>
<div class="sourceCode" id="cb474"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb474-1"><a href="math-finance-in-r.html#cb474-1"></a><span class="co">#only preserve tickers with positive weights</span></span>
<span id="cb474-2"><a href="math-finance-in-r.html#cb474-2"></a>tickerList =<span class="st"> </span><span class="kw">c</span>( <span class="st">&quot;T&quot;</span>,                <span class="co">#   ATT (phone company)</span></span>
<span id="cb474-3"><a href="math-finance-in-r.html#cb474-3"></a>                <span class="st">&quot;F&quot;</span>,                <span class="co">#   Ford (cars)</span></span>
<span id="cb474-4"><a href="math-finance-in-r.html#cb474-4"></a>               <span class="st">&quot;AAPL&quot;</span>,             <span class="co">#   Apple (computers, phones, software)</span></span>
<span id="cb474-5"><a href="math-finance-in-r.html#cb474-5"></a>                <span class="st">&quot;SPY&quot;</span>)              <span class="co">#   S &amp; P index ETF</span></span></code></pre></div>
<p>Then, as what we did in previous step, read historical time series from .csv files in this directory:</p>
<div class="sourceCode" id="cb475"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb475-1"><a href="math-finance-in-r.html#cb475-1"></a>T =<span class="st"> </span><span class="dv">250</span>                   <span class="co"># number of days of historical data to use</span></span>
<span id="cb475-2"><a href="math-finance-in-r.html#cb475-2"></a>n =<span class="st"> </span><span class="kw">length</span>(tickerList)    <span class="co"># number of assets</span></span>
<span id="cb475-3"><a href="math-finance-in-r.html#cb475-3"></a></span>
<span id="cb475-4"><a href="math-finance-in-r.html#cb475-4"></a><span class="co">#  prices[t,k] = closing price on day t (counting back from today) of asset k</span></span>
<span id="cb475-5"><a href="math-finance-in-r.html#cb475-5"></a></span>
<span id="cb475-6"><a href="math-finance-in-r.html#cb475-6"></a>prices =<span class="st"> </span><span class="kw">matrix</span>( <span class="dt">nrow =</span> T, <span class="dt">ncol =</span> n)     <span class="co"># allocate memory for the matrix</span></span>
<span id="cb475-7"><a href="math-finance-in-r.html#cb475-7"></a></span>
<span id="cb475-8"><a href="math-finance-in-r.html#cb475-8"></a><span class="cf">for</span> ( k <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>n){                    <span class="co">#  iterate over k, not the ticker name</span></span>
<span id="cb475-9"><a href="math-finance-in-r.html#cb475-9"></a>  ticker =<span class="st"> </span>tickerList[k]          <span class="co">#  get the corresponding ticker name</span></span>
<span id="cb475-10"><a href="math-finance-in-r.html#cb475-10"></a>  </span>
<span id="cb475-11"><a href="math-finance-in-r.html#cb475-11"></a>  fileName =<span class="st"> </span><span class="kw">paste</span>( <span class="kw">c</span>( <span class="st">&quot;https://raw.githubusercontent.com/ConnieeeeeLIU/EDAV/main/StockPriceTimeSeries_&quot;</span>,  </span>
<span id="cb475-12"><a href="math-finance-in-r.html#cb475-12"></a>                       ticker,                  <span class="co">#</span></span>
<span id="cb475-13"><a href="math-finance-in-r.html#cb475-13"></a>                       <span class="st">&quot;.csv&quot;</span>),                  <span class="co"># a .csv file</span></span>
<span id="cb475-14"><a href="math-finance-in-r.html#cb475-14"></a>                    <span class="dt">collapse =</span> <span class="st">&quot;&quot;</span>)            <span class="co"># no blanks between the parts</span></span>
<span id="cb475-15"><a href="math-finance-in-r.html#cb475-15"></a></span>
<span id="cb475-16"><a href="math-finance-in-r.html#cb475-16"></a>  CSVfile =<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>( fileName )</span>
<span id="cb475-17"><a href="math-finance-in-r.html#cb475-17"></a>  closingPriceSeries =<span class="st"> </span>CSVfile[[<span class="st">&quot;close&quot;</span>]]        <span class="co"># The column under &quot;close&quot;...</span></span>
<span id="cb475-18"><a href="math-finance-in-r.html#cb475-18"></a>  <span class="co"># ... holds the closing prices</span></span>
<span id="cb475-19"><a href="math-finance-in-r.html#cb475-19"></a>  <span class="cf">for</span> ( t <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>T){                               <span class="co"># Copy from the &quot;data frame&quot;...</span></span>
<span id="cb475-20"><a href="math-finance-in-r.html#cb475-20"></a>    prices[ t, k] =<span class="st"> </span>closingPriceSeries[t]      <span class="co"># ... to the matrix</span></span>
<span id="cb475-21"><a href="math-finance-in-r.html#cb475-21"></a>  }</span>
<span id="cb475-22"><a href="math-finance-in-r.html#cb475-22"></a>}</span></code></pre></div>
<p>Next, calculate the daily returns, the mean return, and the empirical covariance:</p>
<div class="sourceCode" id="cb476"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb476-1"><a href="math-finance-in-r.html#cb476-1"></a>returns =<span class="st"> </span><span class="kw">matrix</span>( <span class="dt">nrow =</span> (T<span class="dv">-1</span>), <span class="dt">ncol =</span> n)</span>
<span id="cb476-2"><a href="math-finance-in-r.html#cb476-2"></a><span class="cf">for</span> ( t <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>(T<span class="dv">-1</span>)){</span>
<span id="cb476-3"><a href="math-finance-in-r.html#cb476-3"></a>  <span class="cf">for</span> ( k <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>n){</span>
<span id="cb476-4"><a href="math-finance-in-r.html#cb476-4"></a>    returns[ t, k] =<span class="st"> </span>( prices[ t<span class="op">+</span><span class="dv">1</span>, k] <span class="op">-</span><span class="st"> </span>prices[ t,k ])<span class="op">/</span>prices[ t, k]</span>
<span id="cb476-5"><a href="math-finance-in-r.html#cb476-5"></a>  }</span>
<span id="cb476-6"><a href="math-finance-in-r.html#cb476-6"></a>}</span>
<span id="cb476-7"><a href="math-finance-in-r.html#cb476-7"></a></span>
<span id="cb476-8"><a href="math-finance-in-r.html#cb476-8"></a>mu =<span class="st"> </span><span class="kw">matrix</span>( <span class="dv">0</span>, <span class="dt">ncol =</span> <span class="dv">1</span>, <span class="dt">nrow =</span> n)         <span class="co"># Column vector of expected returns</span></span>
<span id="cb476-9"><a href="math-finance-in-r.html#cb476-9"></a><span class="co"># initialized to zero so this works:</span></span>
<span id="cb476-10"><a href="math-finance-in-r.html#cb476-10"></a><span class="cf">for</span> ( k <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>n){                            <span class="co"># For asset k ...</span></span>
<span id="cb476-11"><a href="math-finance-in-r.html#cb476-11"></a>  <span class="cf">for</span> ( t <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>(T<span class="dv">-1</span>)){                    <span class="co"># ... add the returns over time</span></span>
<span id="cb476-12"><a href="math-finance-in-r.html#cb476-12"></a>    mu[k] =<span class="st"> </span>mu[k] <span class="op">+</span><span class="st"> </span>returns[t,k]</span>
<span id="cb476-13"><a href="math-finance-in-r.html#cb476-13"></a>  }</span>
<span id="cb476-14"><a href="math-finance-in-r.html#cb476-14"></a>  mu[k] =<span class="st"> </span>mu[k]<span class="op">/</span>(T<span class="dv">-1</span>)                     <span class="co"># Divide by the number of samples ...</span></span>
<span id="cb476-15"><a href="math-finance-in-r.html#cb476-15"></a>}                                          <span class="co"># ... to get the empirical mean</span></span>
<span id="cb476-16"><a href="math-finance-in-r.html#cb476-16"></a><span class="co">######Cov matrix</span></span>
<span id="cb476-17"><a href="math-finance-in-r.html#cb476-17"></a></span>
<span id="cb476-18"><a href="math-finance-in-r.html#cb476-18"></a>C =<span class="st"> </span><span class="kw">matrix</span>( <span class="dv">0</span>, <span class="dt">ncol =</span> n, <span class="dt">nrow =</span> n)</span>
<span id="cb476-19"><a href="math-finance-in-r.html#cb476-19"></a><span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>n){</span>
<span id="cb476-20"><a href="math-finance-in-r.html#cb476-20"></a>  <span class="cf">for</span> (k <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>n){</span>
<span id="cb476-21"><a href="math-finance-in-r.html#cb476-21"></a>    total =<span class="st"> </span><span class="dv">0</span> </span>
<span id="cb476-22"><a href="math-finance-in-r.html#cb476-22"></a>    <span class="cf">for</span> (t <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>(T<span class="dv">-1</span>)){</span>
<span id="cb476-23"><a href="math-finance-in-r.html#cb476-23"></a>      total =<span class="st"> </span>total <span class="op">+</span><span class="st"> </span>(returns[t,j]<span class="op">-</span>mu[j])<span class="op">*</span>(returns[t,k]<span class="op">-</span>mu[k])</span>
<span id="cb476-24"><a href="math-finance-in-r.html#cb476-24"></a>    }</span>
<span id="cb476-25"><a href="math-finance-in-r.html#cb476-25"></a>    </span>
<span id="cb476-26"><a href="math-finance-in-r.html#cb476-26"></a>    C[j,k] =<span class="st"> </span>total<span class="op">/</span>(T<span class="dv">-2</span>)</span>
<span id="cb476-27"><a href="math-finance-in-r.html#cb476-27"></a>    </span>
<span id="cb476-28"><a href="math-finance-in-r.html#cb476-28"></a>  }</span>
<span id="cb476-29"><a href="math-finance-in-r.html#cb476-29"></a>}</span>
<span id="cb476-30"><a href="math-finance-in-r.html#cb476-30"></a><span class="co">######</span></span>
<span id="cb476-31"><a href="math-finance-in-r.html#cb476-31"></a>one_m =<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">1</span>, <span class="dt">ncol =</span> <span class="dv">1</span>, <span class="dt">nrow =</span> n)</span>
<span id="cb476-32"><a href="math-finance-in-r.html#cb476-32"></a>a =<span class="st"> </span><span class="kw">t</span>(one_m)<span class="op">%*%</span><span class="kw">solve</span>(C)<span class="op">%*%</span>one_m</span>
<span id="cb476-33"><a href="math-finance-in-r.html#cb476-33"></a>b =<span class="st"> </span><span class="kw">t</span>(one_m)<span class="op">%*%</span><span class="kw">solve</span>(C)<span class="op">%*%</span>mu</span>
<span id="cb476-34"><a href="math-finance-in-r.html#cb476-34"></a>c =<span class="st"> </span><span class="kw">t</span>(mu)<span class="op">%*%</span><span class="kw">solve</span>(C)<span class="op">%*%</span>mu</span>
<span id="cb476-35"><a href="math-finance-in-r.html#cb476-35"></a>det_v =<span class="st"> </span>a<span class="op">*</span>c<span class="op">-</span>b<span class="op">^</span><span class="dv">2</span></span>
<span id="cb476-36"><a href="math-finance-in-r.html#cb476-36"></a></span>
<span id="cb476-37"><a href="math-finance-in-r.html#cb476-37"></a>eq_a =<span class="st"> </span>a<span class="op">/</span>det_v</span>
<span id="cb476-38"><a href="math-finance-in-r.html#cb476-38"></a>eq_b =<span class="st"> </span><span class="dv">-2</span><span class="op">*</span>b<span class="op">/</span>det_v</span>
<span id="cb476-39"><a href="math-finance-in-r.html#cb476-39"></a>eq_c =<span class="st"> </span>c<span class="op">/</span>det_v</span>
<span id="cb476-40"><a href="math-finance-in-r.html#cb476-40"></a></span>
<span id="cb476-41"><a href="math-finance-in-r.html#cb476-41"></a>min_var =<span class="st"> </span><span class="op">-</span>(eq_b<span class="op">^</span><span class="dv">2-4</span><span class="op">*</span>eq_a<span class="op">*</span>eq_c)<span class="op">/</span>(<span class="dv">4</span><span class="op">*</span>eq_a)</span>
<span id="cb476-42"><a href="math-finance-in-r.html#cb476-42"></a></span>
<span id="cb476-43"><a href="math-finance-in-r.html#cb476-43"></a>mu_min_var =<span class="st"> </span><span class="op">-</span>eq_b<span class="op">/</span>(<span class="dv">2</span><span class="op">*</span>eq_a)</span>
<span id="cb476-44"><a href="math-finance-in-r.html#cb476-44"></a></span>
<span id="cb476-45"><a href="math-finance-in-r.html#cb476-45"></a>lam_<span class="dv">1</span> =<span class="st"> </span>(c<span class="op">-</span>b<span class="op">*</span>mu_min_var)<span class="op">/</span>(det_v)</span>
<span id="cb476-46"><a href="math-finance-in-r.html#cb476-46"></a>lam_<span class="dv">2</span> =<span class="st"> </span>(a<span class="op">*</span>mu_min_var<span class="op">-</span>b)<span class="op">/</span>(det_v)</span>
<span id="cb476-47"><a href="math-finance-in-r.html#cb476-47"></a></span>
<span id="cb476-48"><a href="math-finance-in-r.html#cb476-48"></a>w =<span class="st"> </span>lam_<span class="dv">2</span>[<span class="dv">1</span>,<span class="dv">1</span>]<span class="op">*</span><span class="kw">solve</span>(C)<span class="op">%*%</span>mu <span class="op">+</span><span class="st"> </span>lam_<span class="dv">1</span>[<span class="dv">1</span>,<span class="dv">1</span>]<span class="op">*</span><span class="kw">solve</span>(C)<span class="op">%*%</span>one_m</span></code></pre></div>
<p>Lets check the weight!</p>
<div class="sourceCode" id="cb477"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb477-1"><a href="math-finance-in-r.html#cb477-1"></a>w</span></code></pre></div>
<pre><code>##             [,1]
## [1,]  0.43520296
## [2,] -0.16138052
## [3,] -0.00208128
## [4,]  0.72825884</code></pre>
</div>
<div id="visualization-of-minimum-variance-portforlio" class="section level2">
<h2><span class="header-section-number">43.6</span> Visualization of Minimum Variance Portforlio</h2>
<p>Next we can also visualize the process of locating the minimum variance portfolio in R; we still choose a small set with other five tickers as in last section.(<a href="https://www.codingfinance.com/post/2018-05-31-portfolio-opt-in-r/">citation2</a>)
We will start with creating 5000 random weights first to simulate 5000 random portfolios.</p>
<div class="sourceCode" id="cb479"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb479-1"><a href="math-finance-in-r.html#cb479-1"></a>tickerList =<span class="st"> </span><span class="kw">c</span>( <span class="st">&quot;IBM&quot;</span>,              <span class="co">#   IBM (computers, mostly software)</span></span>
<span id="cb479-2"><a href="math-finance-in-r.html#cb479-2"></a>                <span class="st">&quot;MSFT&quot;</span>,             <span class="co">#   Microsoft (software)</span></span>
<span id="cb479-3"><a href="math-finance-in-r.html#cb479-3"></a>                <span class="st">&quot;AAPL&quot;</span>,             <span class="co">#   Apple (computers, phones, software)</span></span>
<span id="cb479-4"><a href="math-finance-in-r.html#cb479-4"></a>                <span class="st">&quot;JPM&quot;</span>,              <span class="co">#   J P Morgan Chase (bank)</span></span>
<span id="cb479-5"><a href="math-finance-in-r.html#cb479-5"></a>                <span class="st">&quot;NVDA&quot;</span>)             <span class="co">#   Nvidia (chips)</span></span></code></pre></div>
<div class="sourceCode" id="cb480"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb480-1"><a href="math-finance-in-r.html#cb480-1"></a><span class="co"># Almost the same steps to retrieve data again</span></span>
<span id="cb480-2"><a href="math-finance-in-r.html#cb480-2"></a>T =<span class="st"> </span><span class="dv">250</span>                   <span class="co"># number of days of historical data to use</span></span>
<span id="cb480-3"><a href="math-finance-in-r.html#cb480-3"></a>n =<span class="st"> </span><span class="kw">length</span>(tickerList)    <span class="co"># number of assets</span></span>
<span id="cb480-4"><a href="math-finance-in-r.html#cb480-4"></a></span>
<span id="cb480-5"><a href="math-finance-in-r.html#cb480-5"></a><span class="co">#  prices[t,k] = closing price on day t (counting back from today) of asset k</span></span>
<span id="cb480-6"><a href="math-finance-in-r.html#cb480-6"></a></span>
<span id="cb480-7"><a href="math-finance-in-r.html#cb480-7"></a>prices =<span class="st"> </span><span class="kw">matrix</span>( <span class="dt">nrow =</span> T, <span class="dt">ncol =</span> n)     <span class="co"># allocate memory for the matrix</span></span>
<span id="cb480-8"><a href="math-finance-in-r.html#cb480-8"></a></span>
<span id="cb480-9"><a href="math-finance-in-r.html#cb480-9"></a><span class="cf">for</span> ( k <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>n){                    <span class="co">#  iterate over k, not the ticker name</span></span>
<span id="cb480-10"><a href="math-finance-in-r.html#cb480-10"></a>  ticker =<span class="st"> </span>tickerList[k]          <span class="co">#  get the corresponding ticker name</span></span>
<span id="cb480-11"><a href="math-finance-in-r.html#cb480-11"></a>  </span>
<span id="cb480-12"><a href="math-finance-in-r.html#cb480-12"></a>  fileName =<span class="st"> </span><span class="kw">paste</span>( <span class="kw">c</span>( <span class="st">&quot;https://raw.githubusercontent.com/ConnieeeeeLIU/EDAV/main/StockPriceTimeSeries_&quot;</span>, </span>
<span id="cb480-13"><a href="math-finance-in-r.html#cb480-13"></a>                       ticker,                  <span class="co">#</span></span>
<span id="cb480-14"><a href="math-finance-in-r.html#cb480-14"></a>                       <span class="st">&quot;.csv&quot;</span>),                  <span class="co"># a .csv file</span></span>
<span id="cb480-15"><a href="math-finance-in-r.html#cb480-15"></a>                    <span class="dt">collapse =</span> <span class="st">&quot;&quot;</span>)            <span class="co"># no blanks between the parts</span></span>
<span id="cb480-16"><a href="math-finance-in-r.html#cb480-16"></a></span>
<span id="cb480-17"><a href="math-finance-in-r.html#cb480-17"></a>  CSVfile =<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>( fileName )</span>
<span id="cb480-18"><a href="math-finance-in-r.html#cb480-18"></a>  closingPriceSeries =<span class="st"> </span>CSVfile[[<span class="st">&quot;close&quot;</span>]]        <span class="co"># The column under &quot;close&quot;...</span></span>
<span id="cb480-19"><a href="math-finance-in-r.html#cb480-19"></a>  <span class="co"># ... holds the closing prices</span></span>
<span id="cb480-20"><a href="math-finance-in-r.html#cb480-20"></a>  <span class="cf">for</span> ( t <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>T){                               <span class="co"># Copy from the &quot;data frame&quot;...</span></span>
<span id="cb480-21"><a href="math-finance-in-r.html#cb480-21"></a>    prices[ t, k] =<span class="st"> </span>closingPriceSeries[t]      <span class="co"># ... to the matrix</span></span>
<span id="cb480-22"><a href="math-finance-in-r.html#cb480-22"></a>  }</span>
<span id="cb480-23"><a href="math-finance-in-r.html#cb480-23"></a>}</span>
<span id="cb480-24"><a href="math-finance-in-r.html#cb480-24"></a></span>
<span id="cb480-25"><a href="math-finance-in-r.html#cb480-25"></a><span class="co"># We use log returns here to make a better plot</span></span>
<span id="cb480-26"><a href="math-finance-in-r.html#cb480-26"></a>log_returns =<span class="st"> </span><span class="kw">matrix</span>( <span class="dt">nrow =</span> (T<span class="dv">-1</span>), <span class="dt">ncol =</span> n)</span>
<span id="cb480-27"><a href="math-finance-in-r.html#cb480-27"></a><span class="cf">for</span> ( t <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>(T<span class="dv">-1</span>)){</span>
<span id="cb480-28"><a href="math-finance-in-r.html#cb480-28"></a>  <span class="cf">for</span> ( k <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>n){</span>
<span id="cb480-29"><a href="math-finance-in-r.html#cb480-29"></a>    log_returns[ t, k] =<span class="st"> </span><span class="kw">log</span>( prices[ t<span class="op">+</span><span class="dv">1</span>, k] <span class="op">/</span><span class="st"> </span>prices[ t,k ])</span>
<span id="cb480-30"><a href="math-finance-in-r.html#cb480-30"></a>  }</span>
<span id="cb480-31"><a href="math-finance-in-r.html#cb480-31"></a>}</span>
<span id="cb480-32"><a href="math-finance-in-r.html#cb480-32"></a>mean_return &lt;-<span class="st"> </span><span class="kw">colMeans</span>(log_returns)</span>
<span id="cb480-33"><a href="math-finance-in-r.html#cb480-33"></a><span class="co"># We also magnify the variance by annualizing it</span></span>
<span id="cb480-34"><a href="math-finance-in-r.html#cb480-34"></a>C &lt;-<span class="st"> </span><span class="kw">cov</span>(log_returns) <span class="op">*</span><span class="st"> </span><span class="dv">252</span></span></code></pre></div>
<p>Now we randomly choose 5000 weights for the portfolios, to see the return, risk and sharpe ratio of each portfolio:</p>
<div class="sourceCode" id="cb481"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb481-1"><a href="math-finance-in-r.html#cb481-1"></a>num_iter &lt;-<span class="st"> </span><span class="dv">5000</span></span>
<span id="cb481-2"><a href="math-finance-in-r.html#cb481-2"></a></span>
<span id="cb481-3"><a href="math-finance-in-r.html#cb481-3"></a>weights &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">nrow =</span> num_iter,</span>
<span id="cb481-4"><a href="math-finance-in-r.html#cb481-4"></a>                  <span class="dt">ncol =</span> <span class="kw">length</span>(tickerList))</span>
<span id="cb481-5"><a href="math-finance-in-r.html#cb481-5"></a>portfolio_returns &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&#39;numeric&#39;</span>, <span class="dt">length =</span> num_iter)</span>
<span id="cb481-6"><a href="math-finance-in-r.html#cb481-6"></a>portfolio_risk &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&#39;numeric&#39;</span>, <span class="dt">length =</span> num_iter)</span>
<span id="cb481-7"><a href="math-finance-in-r.html#cb481-7"></a>sharpe_ratio &lt;-<span class="st"> </span><span class="kw">vector</span>(<span class="st">&#39;numeric&#39;</span>, <span class="dt">length =</span> num_iter)</span>
<span id="cb481-8"><a href="math-finance-in-r.html#cb481-8"></a></span>
<span id="cb481-9"><a href="math-finance-in-r.html#cb481-9"></a><span class="co"># Run 5000 portfolios</span></span>
<span id="cb481-10"><a href="math-finance-in-r.html#cb481-10"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(portfolio_returns)) {</span>
<span id="cb481-11"><a href="math-finance-in-r.html#cb481-11"></a>  w &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="kw">length</span>(tickerList))</span>
<span id="cb481-12"><a href="math-finance-in-r.html#cb481-12"></a>  w &lt;-<span class="st"> </span>w<span class="op">/</span><span class="kw">sum</span>(w)</span>
<span id="cb481-13"><a href="math-finance-in-r.html#cb481-13"></a>  </span>
<span id="cb481-14"><a href="math-finance-in-r.html#cb481-14"></a>  weights[i,] &lt;-<span class="st"> </span>w <span class="co"># weights</span></span>
<span id="cb481-15"><a href="math-finance-in-r.html#cb481-15"></a>  </span>
<span id="cb481-16"><a href="math-finance-in-r.html#cb481-16"></a>  ret &lt;-<span class="st"> </span><span class="kw">sum</span>(w <span class="op">*</span><span class="st"> </span>mean_return) <span class="co"># returns</span></span>
<span id="cb481-17"><a href="math-finance-in-r.html#cb481-17"></a>  ret &lt;-<span class="st"> </span>((ret <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)<span class="op">^</span><span class="dv">252</span>) <span class="op">-</span><span class="st"> </span><span class="dv">1</span> <span class="co"># annualized returns</span></span>
<span id="cb481-18"><a href="math-finance-in-r.html#cb481-18"></a>  portfolio_returns[i] &lt;-<span class="st"> </span>ret</span>
<span id="cb481-19"><a href="math-finance-in-r.html#cb481-19"></a>  </span>
<span id="cb481-20"><a href="math-finance-in-r.html#cb481-20"></a>  sd &lt;-<span class="st"> </span><span class="kw">sqrt</span>(<span class="kw">t</span>(w) <span class="op">%*%</span><span class="st"> </span>(C  <span class="op">%*%</span><span class="st"> </span>w))  <span class="co"># risk</span></span>
<span id="cb481-21"><a href="math-finance-in-r.html#cb481-21"></a>  portfolio_risk[i] &lt;-<span class="st"> </span>sd</span>
<span id="cb481-22"><a href="math-finance-in-r.html#cb481-22"></a>  </span>
<span id="cb481-23"><a href="math-finance-in-r.html#cb481-23"></a>  sr &lt;-<span class="st"> </span>ret<span class="op">/</span>sd  <span class="co"># sharpe ratio</span></span>
<span id="cb481-24"><a href="math-finance-in-r.html#cb481-24"></a>  sharpe_ratio[i] &lt;-<span class="st"> </span>sr</span>
<span id="cb481-25"><a href="math-finance-in-r.html#cb481-25"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb482"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb482-1"><a href="math-finance-in-r.html#cb482-1"></a><span class="co"># Put returns, risk and sharpe ratio of all portfolio into a small table: tibble!</span></span>
<span id="cb482-2"><a href="math-finance-in-r.html#cb482-2"></a>portfolio_values &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">Return =</span> portfolio_returns,</span>
<span id="cb482-3"><a href="math-finance-in-r.html#cb482-3"></a>                  <span class="dt">Risk =</span> portfolio_risk,</span>
<span id="cb482-4"><a href="math-finance-in-r.html#cb482-4"></a>                  <span class="dt">SharpeRatio =</span> sharpe_ratio)</span>
<span id="cb482-5"><a href="math-finance-in-r.html#cb482-5"></a></span>
<span id="cb482-6"><a href="math-finance-in-r.html#cb482-6"></a><span class="co"># Also combine weights and the values together</span></span>
<span id="cb482-7"><a href="math-finance-in-r.html#cb482-7"></a>weights &lt;-<span class="st"> </span><span class="kw">tk_tbl</span>(weights)</span>
<span id="cb482-8"><a href="math-finance-in-r.html#cb482-8"></a><span class="kw">colnames</span>(weights) &lt;-<span class="st"> </span>tickerList</span>
<span id="cb482-9"><a href="math-finance-in-r.html#cb482-9"></a>portfolio_values &lt;-<span class="st"> </span><span class="kw">tk_tbl</span>(<span class="kw">cbind</span>(weights, portfolio_values))</span>
<span id="cb482-10"><a href="math-finance-in-r.html#cb482-10"></a></span>
<span id="cb482-11"><a href="math-finance-in-r.html#cb482-11"></a><span class="co"># take a look here</span></span>
<span id="cb482-12"><a href="math-finance-in-r.html#cb482-12"></a><span class="kw">head</span>(portfolio_values)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 8
##       IBM  MSFT   AAPL   JPM   NVDA  Return  Risk SharpeRatio
##     &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;
## 1 0.306   0.155 0.177  0.274 0.0876 -0.0142 0.469     -0.0304
## 2 0.0707  0.275 0.247  0.227 0.181  -0.0609 0.538     -0.113 
## 3 0.291   0.129 0.179  0.113 0.289  -0.0926 0.478     -0.194 
## 4 0.393   0.283 0.101  0.151 0.0707 -0.0690 0.411     -0.168 
## 5 0.204   0.195 0.0145 0.187 0.399  -0.305  0.430     -0.710 
## 6 0.00588 0.274 0.337  0.132 0.252  -0.0127 0.633     -0.0201</code></pre>
<p>Then we are going to show the minimum variance portfolio</p>
<div class="sourceCode" id="cb484"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb484-1"><a href="math-finance-in-r.html#cb484-1"></a>min_var &lt;-<span class="st"> </span>portfolio_values[<span class="kw">which.min</span>(portfolio_values<span class="op">$</span>Risk),]</span>
<span id="cb484-2"><a href="math-finance-in-r.html#cb484-2"></a><span class="kw">print</span>(min_var)</span></code></pre></div>
<pre><code>## # A tibble: 1 x 8
##     IBM  MSFT    AAPL    JPM   NVDA Return  Risk SharpeRatio
##   &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;
## 1 0.428 0.449 0.00106 0.0960 0.0265 -0.154 0.379      -0.406</code></pre>
<p>Now let’s plot all of the portfolios and the minimum variance portfolio. It is very easier to see that the MVP refers to the portfolio with the smallest variance in all randomly composed portfolios.</p>
<div class="sourceCode" id="cb486"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb486-1"><a href="math-finance-in-r.html#cb486-1"></a>portfolio_values <span class="op">%&gt;%</span></span>
<span id="cb486-2"><a href="math-finance-in-r.html#cb486-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> Risk, <span class="dt">y =</span> Return, <span class="dt">color =</span> SharpeRatio)) <span class="op">+</span></span>
<span id="cb486-3"><a href="math-finance-in-r.html#cb486-3"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb486-4"><a href="math-finance-in-r.html#cb486-4"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&#39;Risk&#39;</span>,</span>
<span id="cb486-5"><a href="math-finance-in-r.html#cb486-5"></a>       <span class="dt">y =</span> <span class="st">&#39;Returns&#39;</span>,</span>
<span id="cb486-6"><a href="math-finance-in-r.html#cb486-6"></a>       <span class="dt">title =</span> <span class="st">&quot;Portfolio Management&quot;</span>) <span class="op">+</span></span>
<span id="cb486-7"><a href="math-finance-in-r.html#cb486-7"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> Risk,</span>
<span id="cb486-8"><a href="math-finance-in-r.html#cb486-8"></a>                 <span class="dt">y =</span> Return), <span class="dt">data =</span> min_var, <span class="dt">color =</span> <span class="st">&#39;red&#39;</span>) <span class="op">+</span></span>
<span id="cb486-9"><a href="math-finance-in-r.html#cb486-9"></a><span class="st">  </span><span class="kw">annotate</span>(<span class="st">&#39;text&#39;</span>, <span class="dt">x =</span> <span class="fl">0.18</span>, <span class="dt">y =</span> <span class="fl">0.01</span>, <span class="dt">label =</span> <span class="st">&quot;Minimum variance portfolio&quot;</span>) </span></code></pre></div>
<p><img src="math_finance_in_r_files/figure-html/unnamed-chunk-25-1.png" width="672" style="display: block; margin: auto;" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="collaborating-on-rstudio-with-github.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="introduction-to-topology-data-analysis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jtr13/cc21/edit/main/math_finance_in_r.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/jtr13/cc21/blob/main/math_finance_in_r.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
